{"version":3,"file":"entry.js","mappings":"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","sources":["webpack://@variousjs/various/./demo/container.tsx","webpack://@variousjs/various/./demo/dispatcher.ts","webpack://@variousjs/various/./demo/error.tsx","webpack://@variousjs/various/./demo/loading.tsx","webpack://@variousjs/various/./demo/store.ts","webpack://@variousjs/various/./demo/wrapper.tsx","webpack://@variousjs/various/external amd {\"root\":\"React\",\"amd\":\"react\"}","webpack://@variousjs/various/external amd {\"root\":\"ReactRouterDOM\",\"amd\":\"react-router-dom\"}","webpack://@variousjs/various/external amd {\"root\":\"antd\",\"amd\":\"antd\"}","webpack://@variousjs/various/external amd {\"root\":\"moment\",\"amd\":\"moment\"}","webpack://@variousjs/various/external amd {\"root\":\"moment_zhCN\",\"amd\":\"moment_zhCN\"}","webpack://@variousjs/various/webpack/bootstrap","webpack://@variousjs/various/webpack/runtime/compat get default export","webpack://@variousjs/various/webpack/runtime/define property getters","webpack://@variousjs/various/webpack/runtime/hasOwnProperty shorthand","webpack://@variousjs/various/webpack/runtime/make namespace object","webpack://@variousjs/various/./demo/entry.ts"],"sourcesContent":["import React, { Component, ComponentType } from 'react'\nimport { Collapse } from 'antd'\nimport { HashRouter, Switch, Route } from 'react-router-dom'\nimport { ContainerProps } from '@variousjs/various'\nimport Wrapper from './wrapper'\nimport { Config } from './types'\n\nclass Container extends Component<ContainerProps<Config>> {\n  render() {\n    const {\n      $config, $component,\n    } = this.props\n    const routes = $config.routes.map((item) => ({\n      ...item,\n      path: item.path,\n      components: item.components.join().split(','),\n    }))\n\n    const X = $component('hooks')\n\n    return (\n      <HashRouter>\n        <Wrapper {...this.props}>\n          <X $silent />\n          <Switch>\n            {\n            routes.map(({ path, components }) => {\n              const component = () => components.map((name) => {\n                const C = $component(name)\n\n                if (name === 'e') {\n                  return (\n                    <Collapse key={name}>\n                      <Collapse.Panel header=\"Open\">\n                        <C />\n                      </Collapse.Panel>\n                    </Collapse>\n                  )\n                }\n\n                if (name === 'b' && path.includes('next')) {\n                  return (\n                    <div key={name} style={{ display: 'inline-block', width: 300 }}>\n                      silent component\n                      <C $silent />\n                    </div>\n                  )\n                }\n\n                const props = name === 'a' ? { name, test: 123 } : {}\n\n                return (\n                  <div key={name} style={{ display: 'inline-block', width: 300 }}>\n                    <C {...props} />\n                  </div>\n                )\n              })\n\n              const N = component as unknown as ComponentType\n\n              return (\n                <Route\n                  key={path as string}\n                  exact\n                  path={path}\n                  component={path === '/ttt' ? N : undefined}\n                >\n                  {\n                    path === '/ttt' ? null : <N />\n                  }\n                </Route>\n              )\n            })\n          }\n            <Route path=\"*\">\n              <div style={{ fontSize: 100 }}>404</div>\n            </Route>\n          </Switch>\n        </Wrapper>\n      </HashRouter>\n    )\n  }\n}\n\nexport default Container\n","import { Actions } from '@variousjs/various'\nimport { Store } from './types'\n\nconst actions: Actions<Store> = {\n  async updateUserName({ dispatch, getStore }, value) {\n    await new Promise((r) => setTimeout(r, 1000))\n    const { user } = getStore()\n    user.name = value\n    dispatch({ user })\n  },\n  getUserName({ getStore }) {\n    const { user } = getStore()\n    return user.name\n  },\n  getNumber({ getStore }) {\n    const { number } = getStore()\n    return number\n  },\n  setNumber({ dispatch }, value) {\n    dispatch({ number: value })\n  },\n}\n\nexport default actions\n","import React, { FC } from 'react'\nimport { Alert, Button } from 'antd'\nimport { ErrorProps } from '@variousjs/various'\n\nconst errorComponent: FC<ErrorProps> = ({ reload, type, message }) => (\n  <>\n    <Alert\n      message=\"Error\"\n      description={`[${type}]:${message || '组件错误'}`}\n      type=\"error\"\n    />\n    {\n      reload && <Button onClick={reload}>刷新</Button>\n    }\n  </>\n)\n\nexport default errorComponent\n","import React from 'react'\nimport { Spin } from 'antd'\n\nexport default function () {\n  return (\n    <Spin />\n  )\n}\n","export default {\n  user: {\n    name: 'humpback',\n  },\n  number: '10',\n}\n","import React, { FC } from 'react'\nimport {\n  Layout, Menu, Icon, Input,\n} from 'antd'\nimport { Link } from 'react-router-dom'\nimport { ContainerProps } from '@variousjs/various'\nimport { Config } from './types'\n\nconst W: FC<ContainerProps<Config>> = (props) => {\n  const {\n    children,\n    $config,\n  } = props\n\n  return (\n    <Layout style={{ height: '100vh' }}>\n      <Layout.Sider>\n        <h1 style={{ color: '#fff', textAlign: 'center', paddingTop: 20 }}> VariousJS </h1>\n        <Menu\n          defaultSelectedKeys={window.location.hash.split('#/')[1] || 'default'}\n          mode=\"inline\"\n          theme=\"dark\"\n        >\n          {\n              $config.menu\n                .filter(({ label }) => label)\n                .map((item) => {\n                  const {\n                    label,\n                    path,\n                    icon,\n                  } = item\n\n                  return (\n                    <Menu.Item\n                      key={path.split('/')[1] || 'default'}\n                      style={{ display: 'flex', alignItems: 'center' }}\n                    >\n                      <Icon type={icon} />\n                      <Link to={path}>{label}</Link>\n                    </Menu.Item>\n                  )\n                })\n            }\n        </Menu>\n      </Layout.Sider>\n      <Layout>\n        <Layout.Header style={{ background: '#fff', padding: 0 }}>\n          <div style={{ display: 'flex', justifyContent: 'flex-end' }}>\n            <Input style={{ width: 100 }} />\n          </div>\n        </Layout.Header>\n        <Layout.Content\n          style={{\n            margin: '24px 16px',\n            padding: 24,\n            background: '#fff',\n          }}\n        >\n          {children}\n        </Layout.Content>\n      </Layout>\n    </Layout>\n  )\n}\n\nexport default W\n","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react_router_dom__;","module.exports = __WEBPACK_EXTERNAL_MODULE_antd__;","module.exports = __WEBPACK_EXTERNAL_MODULE_moment__;","module.exports = __WEBPACK_EXTERNAL_MODULE_moment_zhCN__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import moment from 'moment'\nimport 'moment_zhCN'\n\nmoment.locale('zh-cn')\n\nexport { default as actions } from './dispatcher'\nexport { default as store } from './store'\nexport { default as Container } from './container'\nexport { default as Loader } from './loading'\nexport { default as Error } from './error'\n"],"names":["React","Component","Collapse","HashRouter","Switch","Route","Wrapper","Container","props","$config","$component","routes","map","item","path","components","join","split","X","component","name","C","includes","display","width","test","N","undefined","fontSize","actions","updateUserName","value","dispatch","getStore","Promise","r","setTimeout","user","getUserName","getNumber","number","setNumber","Alert","Button","errorComponent","reload","type","message","Spin","Layout","Menu","Icon","Input","Link","W","children","height","color","textAlign","paddingTop","window","location","hash","menu","filter","label","icon","alignItems","background","padding","justifyContent","margin","moment","locale","default","store","Loader","Error"],"sourceRoot":""}