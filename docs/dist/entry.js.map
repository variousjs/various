{"version":3,"file":"entry.js","mappings":"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","sources":["webpack://@variousjs/various/./demo/container.tsx","webpack://@variousjs/various/./demo/dispatcher.ts","webpack://@variousjs/various/./demo/error.tsx","webpack://@variousjs/various/./demo/loading.tsx","webpack://@variousjs/various/./demo/store.ts","webpack://@variousjs/various/./demo/wrapper.tsx","webpack://@variousjs/various/external amd {\"root\":\"React\",\"amd\":\"react\"}","webpack://@variousjs/various/external amd {\"root\":\"ReactRouterDOM\",\"amd\":\"react-router-dom\"}","webpack://@variousjs/various/external amd {\"root\":\"antd\",\"amd\":\"antd\"}","webpack://@variousjs/various/external amd {\"root\":\"moment\",\"amd\":\"moment\"}","webpack://@variousjs/various/external amd {\"root\":\"moment_zhCN\",\"amd\":\"moment_zhCN\"}","webpack://@variousjs/various/webpack/bootstrap","webpack://@variousjs/various/webpack/runtime/compat get default export","webpack://@variousjs/various/webpack/runtime/define property getters","webpack://@variousjs/various/webpack/runtime/hasOwnProperty shorthand","webpack://@variousjs/various/webpack/runtime/make namespace object","webpack://@variousjs/various/./demo/entry.ts"],"sourcesContent":["import React, { Component, ComponentType } from 'react'\nimport { HashRouter, Switch, Route } from 'react-router-dom'\nimport { ContainerProps } from '@variousjs/various'\nimport Wrapper from './wrapper'\nimport { Config } from './types'\n\nclass Container extends Component<ContainerProps<Config>> {\n  render() {\n    const {\n      $config, $component,\n    } = this.props\n    const routes = $config.routes.map((item) => ({\n      ...item,\n      path: item.path,\n      components: item.components.join().split(','),\n    }))\n\n    const X = $component('x')\n\n    return (\n      <HashRouter>\n        <Wrapper {...this.props}>\n          <div className=\"component\">\n            <X $silent text=\"x\" />\n          </div>\n          <Switch>\n            {\n              routes.map(({ path, components }) => {\n                const component = () => components.map((name) => {\n                  const C = $component(name)\n\n                  return (\n                    <div key={name} className=\"component\">\n                      <C />\n                    </div>\n                  )\n                })\n\n                return (\n                  <Route\n                    key={path as string}\n                    exact\n                    path={path}\n                    component={component as unknown as ComponentType}\n                  />\n                )\n              })\n            }\n          </Switch>\n        </Wrapper>\n      </HashRouter>\n    )\n  }\n}\n\nexport default Container\n","import { Actions } from '@variousjs/various'\nimport { Store } from './types'\n\nconst actions: Actions<Store> = {\n  async updateUserName({ dispatch, getStore }, value) {\n    await new Promise((r) => setTimeout(r, 1000))\n    const { user } = getStore()\n    user.name = value\n    dispatch({ user })\n  },\n  getUserName({ getStore }) {\n    const { user } = getStore()\n    return user.name\n  },\n  getNumber({ getStore }) {\n    const { number } = getStore()\n    return number\n  },\n  setNumber({ dispatch }, value) {\n    dispatch({ number: value })\n  },\n}\n\nexport default actions\n","import React, { FC } from 'react'\nimport { Alert, Button } from 'antd'\nimport { ErrorProps } from '@variousjs/various'\n\nconst errorComponent: FC<ErrorProps> = ({ reload, type, message }) => (\n  <>\n    <Alert\n      message=\"Error\"\n      description={`[${type}]:${message || '组件错误'}`}\n      type=\"error\"\n    />\n    {\n      reload && <Button onClick={reload}>刷新</Button>\n    }\n  </>\n)\n\nexport default errorComponent\n","import React from 'react'\nimport { Spin } from 'antd'\n\nexport default function () {\n  return (\n    <Spin />\n  )\n}\n","export default {\n  user: {\n    name: 'humpback',\n  },\n}\n","import React, { FC } from 'react'\nimport {\n  Layout, Menu, Icon, Input,\n} from 'antd'\nimport { Link } from 'react-router-dom'\nimport { ContainerProps } from '@variousjs/various'\nimport { Config } from './types'\n\nconst W: FC<ContainerProps<Config>> = (props) => {\n  const { children, $config } = props\n\n  return (\n    <Layout style={{ height: '100vh' }}>\n      <Layout.Sider>\n        <h1 style={{ color: '#fff', padding: '20px 0 7px 24px' }}> VariousJS </h1>\n        <Menu\n          mode=\"inline\"\n          theme=\"dark\"\n        >\n          {\n            $config.menu\n              .filter(({ label }) => label)\n              .map((item) => {\n                const {\n                  label,\n                  path,\n                  icon,\n                } = item\n\n                return (\n                  <Menu.Item\n                    key={path.split('/')[1] || 'default'}\n                    style={{ display: 'flex', alignItems: 'center' }}\n                  >\n                    <Icon type={icon} />\n                    <Link to={path}>{label}</Link>\n                  </Menu.Item>\n                )\n              })\n            }\n        </Menu>\n      </Layout.Sider>\n      <Layout>\n        <Layout.Content style={{ padding: '20px 10px 20px 20px' }}>\n          <div className=\"component\">\n            <div className=\"title\">Container</div>\n            <Input style={{ width: 200 }} defaultValue=\"Container state keeping\" />\n          </div>\n          {children}\n          <div style={{ height: 10 }} />\n        </Layout.Content>\n      </Layout>\n    </Layout>\n  )\n}\n\nexport default W\n","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react_router_dom__;","module.exports = __WEBPACK_EXTERNAL_MODULE_antd__;","module.exports = __WEBPACK_EXTERNAL_MODULE_moment__;","module.exports = __WEBPACK_EXTERNAL_MODULE_moment_zhCN__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import moment from 'moment'\nimport 'moment_zhCN'\n\nmoment.locale('zh-cn')\n\nexport { default as actions } from './dispatcher'\nexport { default as store } from './store'\nexport { default as Container } from './container'\nexport { default as Loader } from './loading'\nexport { default as Error } from './error'\n"],"names":["React","Component","HashRouter","Switch","Route","Wrapper","Container","props","$config","$component","routes","map","item","path","components","join","split","X","component","name","C","actions","updateUserName","value","dispatch","getStore","Promise","r","setTimeout","user","getUserName","getNumber","number","setNumber","Alert","Button","errorComponent","reload","type","message","Spin","Layout","Menu","Icon","Input","Link","W","children","height","color","padding","menu","filter","label","icon","display","alignItems","width","moment","locale","default","store","Loader","Error"],"sourceRoot":""}