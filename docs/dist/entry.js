define(["react","react-router-dom","antd"],((e,t,r)=>(()=>{"use strict";var n={120:t=>{t.exports=e},32:e=>{e.exports=t},297:e=>{e.exports=r}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};return(()=>{function e(e,t,r,n,o,a,l){try{var c=e[a](l),i=c.value}catch(e){return void r(e)}c.done?t(i):Promise.resolve(i).then(n,o)}a.r(l),a.d(l,{Container:()=>h,Error:()=>b,Loader:()=>v,actions:()=>t,store:()=>r});const t={updateUserName(t,r){return(n=function*(){var{dispatch:e,getStore:n}=t;yield new Promise((e=>setTimeout(e,1e3)));var{user:o}=n();o.name=r,e({user:o})},function(){var t=this,r=arguments;return new Promise((function(o,a){var l=n.apply(t,r);function c(t){e(l,o,a,c,i,"next",t)}function i(t){e(l,o,a,c,i,"throw",t)}c(void 0)}))})();var n},getUserName(e){var{getStore:t}=e,{user:r}=t();return r.name},getNumber(e){var{getStore:t}=e,{number:r}=t();return r},setNumber(e,t){var{dispatch:r}=e;r({number:t})}},r={user:{name:"humpback"},number:"10"};var n=a(120),o=a.n(n),c=a(32),i=a(297);const u=e=>{var{children:t,$config:r,$store:n,$dispatch:a,$mounted:l}=e;return o().createElement(i.Layout,{style:{height:"100vh"}},o().createElement(i.Layout.Sider,null,o().createElement("h1",{style:{color:"#fff",textAlign:"center",paddingTop:20}},"Humpback"),o().createElement(i.Menu,{defaultSelectedKeys:window.location.hash.split("#/")[1]||"default",mode:"inline",theme:"dark"},r.menu.filter((e=>{var{label:t}=e;return t})).map((e=>{var{label:t,path:r,icon:n}=e;return o().createElement(i.Menu.Item,{key:r.split("/")[1]||"default",style:{display:"flex",alignItems:"center"}},o().createElement(i.Icon,{type:n}),o().createElement(c.Link,{to:r},t))})))),o().createElement(i.Layout,null,o().createElement(i.Layout.Header,{style:{background:"#fff",padding:0}},o().createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},o().createElement(i.Input,{style:{width:100}}),o().createElement("div",null,n.user.name),o().createElement("div",{style:{margin:"0 20px"}},"已加载组件：",l.map((e=>o().createElement(i.Tag,{key:e},e)))),o().createElement(i.Button,{onClick:()=>a("store","setNumber",Math.random().toFixed(2))},"store"),o().createElement(i.Button,{onClick:()=>a("a","updateValue",Math.random().toFixed(2))},"component"),o().createElement("div",{style:{margin:"0 20px"}},o().createElement(i.Badge,{count:n.number,showZero:!0})))),o().createElement(i.Layout.Content,{style:{margin:"24px 16px",padding:24,background:"#fff"}},t)))};function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r,n,o,a,l){try{var c=e[a](l),i=c.value}catch(e){return void r(e)}c.done?t(i):Promise.resolve(i).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function l(e){p(a,n,o,l,c,"next",e)}function c(e){p(a,n,o,l,c,"throw",e)}l(void 0)}))}}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f extends n.Component{constructor(){var e;super(...arguments),e=this,y(this,"onPreload",d((function*(){var{$preload:t}=e.props;yield t(["photo"]),console.log("preload photo")}))),y(this,"onPortals",(()=>{try{var e=this.props.$render({name:"switch",url:"https://unpkg.com/react-ios-switch@0.1.19/build/bundle.js",props:{checked:!0},onMounted:()=>{console.log("ready")},target:document.querySelector("#portals")});setTimeout(e,5e3)}catch(e){console.log(e)}}))}render(){var{Router:e,$config:t,$component:r,$mounted:n,$router:a}=this.props;console.log(a.location.pathname);var l=t.routes.map((e=>m(m({},e),{},{path:e.path,components:e.components.join().split(",")}))),s=r("hooks");return o().createElement(u,this.props,o().createElement(s,null),o().createElement("div",null,o().createElement("h3",null,"动态组件"),o().createElement(i.Button,{onClick:this.onPortals},"加载组件"),"hooks,a,b"===n.join()?o().createElement(i.Button,{onClick:this.onPreload},"预加载组件"):null),o().createElement(e,null,l.map((e=>{var{path:t,components:n}=e;return o().createElement(c.Route,{key:t,exact:!0,path:t,component:()=>n.map((e=>{var n=r(e);if("e"===e)return o().createElement(i.Collapse,{key:e},o().createElement(i.Collapse.Panel,{header:"Open"},o().createElement(n,null)));if("b"===e&&t.includes("next"))return o().createElement("div",{key:e,style:{display:"inline-block",width:300}},"silent component",o().createElement(n,{silent:!0}));var a="a"===e?{name:e,test:123}:{};return o().createElement("div",{key:e,style:{display:"inline-block",width:300}},o().createElement(n,a))}))})}))))}}const h=f;function v(){return o().createElement(i.Spin,null)}const b=e=>{var{reload:t,type:r,message:n}=e;return o().createElement(o().Fragment,null,o().createElement(i.Alert,{message:"Error",description:"[".concat(r,"]:").concat(n||"组件错误"),type:"error"}),t&&o().createElement(i.Button,{onClick:t},"刷新"))}})(),l})()));
//# sourceMappingURL=entry.js.map