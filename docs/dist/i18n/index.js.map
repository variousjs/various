{"version":3,"file":"i18n/index.js","mappings":"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","sources":["webpack://@variousjs/various/external amd \"@variousjs/various\"","webpack://@variousjs/various/external amd \"react\"","webpack://@variousjs/various/webpack/bootstrap","webpack://@variousjs/various/webpack/runtime/compat get default export","webpack://@variousjs/various/webpack/runtime/define property getters","webpack://@variousjs/various/webpack/runtime/hasOwnProperty shorthand","webpack://@variousjs/various/webpack/runtime/make namespace object","webpack://@variousjs/various/./test/components/i18n/index.tsx"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__variousjs_various__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, { Component } from 'react'\nimport {\n  ComponentProps,\n  ComponentNode,\n  createComponent,\n  I18n,\n} from '@variousjs/various'\nimport zh from './zh.json'\nimport en from './en.json'\n\nconst Mb = createComponent({ name: 'i18n', module: 'B' })\nconst Mc = createComponent({ name: 'i18n', module: 'NoConfig' })\nconst Md = createComponent({ name: 'i18n', module: 'NoResource' })\nconst Me = createComponent({ name: 'i18n', module: 'NoKey' })\nconst Mf = createComponent({ name: 'i18n', module: 'NoLocale' })\nconst Mg = createComponent({ name: 'i18n', module: 'Async' })\nconst Mh = createComponent({ name: 'i18n', module: 'ConfigError' })\nconst Mi = createComponent({ name: 'i18n', module: 'Update' })\n\nconst A = ((props) => {\n  const { $t, $dispatch } = props\n\n  return (\n    <>\n      <h3>I18n</h3>\n      <div className=\"value\">\n        <p>name: {$t('name')}</p>\n        <p>greet: {$t('greet', { name: 'A', name2: 'B' })}</p>\n        <button onClick={() => $dispatch({ name: 'app', action: 'setLocale' })}>change locale</button>\n      </div>\n\n      <h3>Error</h3>\n      <div className=\"value\">\n        <Mh />\n        <Mc />\n        <Md />\n        <Me />\n        <Mf />\n      </div>\n\n      <Mb />\n\n      <h3>Async</h3>\n      <div className=\"value\">\n        <Mg />\n      </div>\n\n      <Mi />\n\n      <h3>Global</h3>\n      <div className=\"value\">\n        <button onClick={() => window.open('/i18n/index.html')}>go</button>\n      </div>\n\n      <h3>Global Async</h3>\n      <div className=\"value\">\n        <button onClick={() => window.open('/i18n/async.html')}>go</button>\n      </div>\n\n      <h3>Global Async Error</h3>\n      <div className=\"value\">\n        <button onClick={() => window.open('/i18n/async-error.html')}>go</button>\n      </div>\n    </>\n  )\n}) as ComponentNode\n\nA.$i18n = () => ({\n  lngStoreKey: 'locale',\n  resources: { zh, en },\n})\n\nexport default A\n\nexport class B extends Component<ComponentProps> {\n  static $i18n: I18n = () => ({\n    lngStoreKey: 'locale',\n    resources: { zh, en },\n  })\n\n  render() {\n    const { $t } = this.props\n    return (\n      <>\n        <h3>Default Text</h3>\n        <div className=\"value\">\n          <p>{$t('no-exist', 'default Text')}</p>\n          {/* @ts-ignore */}\n          <p>{$t('name', [])}</p>\n          <p>{$t('greet', {})}</p>\n          <p>{$t('greet', { invalid: '1' })}</p>\n        </div>\n      </>\n    )\n  }\n}\n\nexport const NoConfig = (props: ComponentProps) => (\n  <p>{props.$t('no-config')}</p>\n)\n\nexport const NoResource = ((props) => (\n  <p>{props.$t('no-resources')}</p>\n)) as ComponentNode\nNoResource.$i18n = () => ({ lngStoreKey: 'locale', resources: {} })\n\nexport const ConfigError = ((props) => (\n  <p>{props.$t('error')}</p>\n)) as ComponentNode\nConfigError.$i18n = () => { throw new Error('get i18n config error') }\n\nexport const NoKey = ((props) => (\n  <p>{props.$t('no-key')}</p>\n)) as ComponentNode\nNoKey.$i18n = () => ({ lngStoreKey: 'locale', resources: { zh, en } })\n\nexport const NoLocale = ((props) => (\n  <p>{props.$t('no-locale')}</p>\n)) as ComponentNode\nNoLocale.$i18n = () => ({ lngStoreKey: 'no-exist', resources: {} })\n\nlet resolveFn = (() => null) as any\nexport const Async = ((props) => {\n  const { $t } = props\n  return (\n    <>\n      <p>{$t('name')}</p>\n      <button onClick={() => resolveFn()}>get resources</button>\n    </>\n  )\n}) as ComponentNode\nAsync.$i18n = async () => {\n  await new Promise((r) => {\n    resolveFn = r\n  })\n  return { lngStoreKey: 'locale', resources: { zh, en } }\n}\n\nexport const Update = ((props) => {\n  const { $t } = props\n\n  return (\n    <>\n      <h3>Update</h3>\n      <div className=\"value\">\n        <p>{$t('name')}</p>\n        <button\n          onClick={() => {\n            $t.update({ lngStoreKey: 'locale' })\n          }}\n        >\n          update lngStoreKey\n        </button>\n        <button\n          onClick={() => {\n            $t.update({ resources: { zh, en } })\n          }}\n        >\n          update resources\n        </button>\n      </div>\n    </>\n  )\n}) as ComponentNode\n"],"names":["React","Component","createComponent","zh","en","Mb","name","module","Mc","Md","Me","Mf","Mg","Mh","Mi","A","props","$t","$dispatch","createElement","Fragment","className","name2","onClick","action","window","open","$i18n","lngStoreKey","resources","B","render","invalid","NoConfig","NoResource","ConfigError","Error","NoKey","NoLocale","resolveFn","Async","Promise","r","Update","update"],"sourceRoot":""}