{"version":3,"file":"core.js","mappings":"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","sources":["webpack://@variousjs/various/external amd {\"root\":\"Nycticorax\",\"amd\":\"nycticorax\"}","webpack://@variousjs/various/external amd {\"root\":\"React\",\"amd\":\"react\"}","webpack://@variousjs/various/external amd {\"root\":\"ReactDOM\",\"amd\":\"react-dom\"}","webpack://@variousjs/various/external amd {\"root\":\"ReactRouterDOM\",\"amd\":\"react-router-dom\"}","webpack://@variousjs/various/webpack/bootstrap","webpack://@variousjs/various/webpack/runtime/compat get default export","webpack://@variousjs/various/webpack/runtime/define property getters","webpack://@variousjs/various/webpack/runtime/hasOwnProperty shorthand","webpack://@variousjs/various/webpack/runtime/make namespace object","webpack://@variousjs/various/./src/config.ts","webpack://@variousjs/various/./src/core/store.ts","webpack://@variousjs/various/./src/core/built-in.tsx","webpack://@variousjs/various/./src/core/routes.tsx","webpack://@variousjs/various/./src/core/dispatch.ts","webpack://@variousjs/various/./src/core/preload.ts","webpack://@variousjs/various/./src/core/create-component.tsx","webpack://@variousjs/various/./src/core/index.tsx"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__552__;","module.exports = __WEBPACK_EXTERNAL_MODULE__161__;","module.exports = __WEBPACK_EXTERNAL_MODULE__305__;","module.exports = __WEBPACK_EXTERNAL_MODULE__439__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export const DEFAULT_PACKAGES = {\n  react: 'https://unpkg.com/react@17.0.2/umd/react.development.js',\n  'react-dom': 'https://unpkg.com/react-dom@17.0.2/umd/react-dom.development.js',\n  'react-router-dom': 'https://unpkg.com/react-router-dom@5.3.0/umd/react-router-dom.js',\n  nycticorax: 'https://unpkg.com/nycticorax@2.0.6/dist/umd/index.js',\n}\n\nexport const MOUNTED_COMPONENTS = 'MOUNTED_COMPONENTS'\n\nexport const IGNORE_STATIC_METHODS = [\n  'name',\n  'prototype',\n  'length',\n  'propTypes',\n  'defaultProps',\n  'getDerivedStateFromProps',\n  'contextTypes',\n  'displayName',\n]\n\nexport enum ERROR_TYPE {\n  LOADING_ERROR = 'LOADING_ERROR',\n  DEPENDENCIES_LOADING_ERROR = 'DEPENDENCIES_LOADING_ERROR',\n  NOT_DEFINED = 'NOT_DEFINED',\n  INVALID_COMPONENT = 'INVALID_COMPONENT',\n  SCRIPT_ERROR = 'SCRIPT_ERROR',\n  ROUTER_ERROR = 'ROUTER_ERROR',\n  CONTAINER_ERROR = 'CONTAINER_ERROR',\n}\n\nexport const ROOT_CONTAINER = '#root'\n\nexport const RETRY_COUNT = 1\n","import Nycticorax from 'nycticorax'\nimport { Connector } from '../types'\n\nexport const {\n  createStore,\n  getStore,\n  connect,\n  dispatch,\n} = new Nycticorax<Connector.Store>()\n","import React from 'react'\nimport { Entry } from '../types'\n\nexport const Loader = () => (\n  <div>Loading</div>\n)\n\nexport const Error: Entry['Error'] = ({ type, message, reload }) => (\n  <>\n    <div>{`[${type}]${message}`}</div>\n    {\n      reload\n        ? (\n          <button\n            type=\"button\"\n            onClick={reload}\n          >\n            Reload\n          </button>\n        )\n        : null\n    }\n  </>\n)\n\nexport const Container = () => (\n  <div>Container component not defined</div>\n)\n","import React, { ReactNode, ComponentType } from 'react'\nimport { RouteComponentProps, withRouter } from 'react-router-dom'\nimport { Error as ErrorNode } from './built-in'\nimport { ERROR_TYPE } from '../config'\nimport { ErrorState } from '../types'\n\ntype P = {\n  children?: ReactNode,\n} & RouteComponentProps\n\nclass R extends React.Component<P, ErrorState> {\n  state = {\n    errorType: undefined,\n    errorMessage: '',\n  }\n\n  shouldComponentUpdate(_props: P, { errorType }: ErrorState) {\n    const { pathname: newPath } = _props.location\n    const { pathname: oldPath } = this.props.location\n    if (newPath !== oldPath && errorType) {\n      window.location.reload()\n      return false\n    }\n    return !!errorType\n  }\n\n  componentDidCatch(e: Error) {\n    this.setState({ errorType: ERROR_TYPE.ROUTER_ERROR, errorMessage: e.message })\n  }\n\n  render() {\n    const { errorType, errorMessage } = this.state\n    const { children } = this.props\n\n    if (errorType) {\n      return (\n        <ErrorNode\n          type={ERROR_TYPE[errorType]}\n          message={errorMessage}\n        />\n      )\n    }\n\n    return children\n  }\n}\n\nexport default withRouter(R) as ComponentType\n","import { MOUNTED_COMPONENTS } from '../config'\nimport { Connector, Entry } from '../types'\n\ntype Ctx = {\n  props: {\n    dispatch: Connector.dispatch,\n    [MOUNTED_COMPONENTS]: string[],\n  },\n}\n\nexport default function (\n  dispatch: Connector.dispatch,\n  storeDispatcher: Entry['actions'],\n  componentDispatcher: { [name: string]: Entry['actions'] },\n) {\n  return function (\n    this: Ctx,\n    dispatcher: string,\n    name: string,\n    func: string,\n    value: any,\n  ) {\n    const currentDispatch = this.props.dispatch || dispatch\n\n    if (name === 'store') {\n      if (!storeDispatcher[func]) {\n        throw new Error(`action \\`${func}\\` is not present`)\n      }\n      return currentDispatch(storeDispatcher[func], value, dispatcher)\n    }\n\n    const actions = componentDispatcher[name]\n\n    if (!actions) {\n      throw new Error(`component \\`${name}\\` is not ready`)\n    }\n\n    if (!actions[func]) {\n      throw new Error(`action \\`${func}\\` of component \\`${name}\\` is not present`)\n    }\n\n    return actions[func](value, dispatcher)\n  }\n}\n","export default (names: string[]) => new Promise<void>((resolve) => {\n  window.requirejs(names, resolve)\n})\n","import React, { ComponentType } from 'react'\nimport { render, unmountComponentAtNode } from 'react-dom'\nimport { withRouter } from 'react-router-dom'\nimport { Config } from '@variousjs/various'\nimport getDispatch from './dispatch'\nimport preload from './preload'\nimport { connect, getStore, dispatch } from './store'\nimport {\n  IGNORE_STATIC_METHODS,\n  MOUNTED_COMPONENTS,\n  ERROR_TYPE,\n  RETRY_COUNT,\n} from '../config'\nimport {\n  RequireError,\n  Connector,\n  Entry,\n  ErrorState,\n  ComponentProps,\n} from '../types'\n\ninterface E {\n  name: string,\n  storeDispatcher: Entry['actions'],\n  componentDispatcher: {\n    [name: string]: Entry['actions'],\n  },\n  config: Config,\n  Loader: Entry['Loader'],\n  Error: Entry['Error'],\n  routerProps?: ComponentProps['$router'] | {},\n  onMounted?: () => void,\n}\n\ntype RequiredComponent = ComponentType<ComponentProps> & Entry['actions'] & {\n   [key: string]: RequiredComponent,\n}\n\nfunction componentCreator({\n  config,\n  name: nameWidthModule,\n  storeDispatcher,\n  componentDispatcher,\n  Loader,\n  Error,\n  routerProps,\n  onMounted = () => undefined,\n}: E) {\n  const storeKeys = Object.keys(getStore())\n  const currentDispatch = getDispatch(dispatch, storeDispatcher, componentDispatcher)\n  const { components, ...rest } = config\n  const [name, module = Symbol('module')] = nameWidthModule.split('.')\n\n  class R extends React.Component<ComponentProps['$router'] & {\n    silent?: boolean,\n    MOUNTED_COMPONENTS: string[],\n    dispatch: typeof dispatch,\n    [key: string]: unknown,\n  }, ErrorState & {\n    componentReady: boolean,\n  }> {\n    state = {\n      componentReady: false,\n      errorType: undefined,\n      errorMessage: '',\n    }\n\n    private ComponentNode: RequiredComponent | null\n\n    private isUnMounted?: boolean\n\n    private retryCount: number = 0\n\n    dispatch = currentDispatch.bind(this, name)\n\n    componentDidMount() {\n      this.mountComponent()\n    }\n\n    componentDidCatch(e: Error) {\n      this.setState({ errorType: 'SCRIPT_ERROR', errorMessage: e.message })\n      window.requirejs.undef(name)\n      window.requirejs.config({\n        paths: {\n          [name]: `${components[name]}#`,\n        },\n      })\n      this.unMountComponent()\n    }\n\n    componentWillUnmount() {\n      this.ComponentNode = null\n      this.unMountComponent()\n      this.isUnMounted = true\n    }\n\n    unMountComponent = () => {\n      let mountedComponents = getStore()[MOUNTED_COMPONENTS]\n      mountedComponents = mountedComponents.filter((item) => item !== name)\n      dispatch({ [MOUNTED_COMPONENTS]: mountedComponents }, true)\n\n      // eslint-disable-next-line no-param-reassign\n      delete componentDispatcher[nameWidthModule]\n    }\n\n    mountComponent = () => {\n      try {\n        const { registry, urlFetched } = window.requirejs.s.contexts._\n        Object.keys(registry).forEach((key) => {\n          if (registry[key].error) {\n            delete urlFetched[registry[key].map.url]\n            delete registry[key]\n          }\n        })\n      } catch (e) {\n        // ignore\n      }\n\n      window.requirejs([name], (C: RequiredComponent) => {\n        if (this.isUnMounted) {\n          return\n        }\n\n        if (!C) {\n          this.setState({ errorType: 'INVALID_COMPONENT' })\n          return\n        }\n\n        const componentNode = C[module as string] || C.default || C\n\n        if (typeof componentNode !== 'function') {\n          this.setState({ errorType: 'INVALID_COMPONENT' })\n          return\n        }\n\n        const mountedComponents = getStore()[MOUNTED_COMPONENTS]\n        const actions: Entry['actions'] = {}\n\n        if (!mountedComponents.includes(name)) {\n          mountedComponents.push(name)\n        }\n\n        Object\n          .getOwnPropertyNames(componentNode)\n          .forEach((method) => {\n            if (!IGNORE_STATIC_METHODS.includes(method) && typeof componentNode[method] === 'function') {\n              actions[method] = componentNode[method]\n            }\n          })\n\n        componentDispatcher[nameWidthModule] = actions // eslint-disable-line no-param-reassign\n\n        this.ComponentNode = componentNode\n\n        this.setState({ componentReady: true }, () => {\n          if (!routerProps) {\n            dispatch({ [MOUNTED_COMPONENTS]: mountedComponents }, true)\n          } else {\n            onMounted()\n          }\n        })\n      }, (e: RequireError) => {\n        window.requirejs.undef(name)\n        window.requirejs.config({\n          paths: {\n            [name]: `${components[name]}#`,\n          },\n        })\n\n        if (this.isUnMounted) {\n          return\n        }\n\n        if (this.retryCount < RETRY_COUNT) {\n          this.retryCount += 1\n          setTimeout(this.mountComponent, 1000)\n          return\n        }\n\n        const [requireModule] = e.requireModules\n\n        this.setState({\n          errorType: requireModule === name ? 'LOADING_ERROR' : 'DEPENDENCIES_LOADING_ERROR',\n          errorMessage: e.message,\n        })\n      })\n    }\n\n    onReload = () => {\n      this.setState({\n        componentReady: false,\n        errorType: undefined,\n        errorMessage: '',\n      }, () => {\n        this.mountComponent()\n      })\n    }\n\n    $render: ComponentProps['$render'] = ({\n      name: componentName,\n      url,\n      target,\n      props,\n      module: componentModule,\n      onMounted: onMountedFn,\n    }) => {\n      const {\n        history,\n        location,\n        match,\n        staticContext,\n      } = this.props\n      const router = {\n        history,\n        location,\n        match,\n        staticContext,\n      }\n\n      if (url) {\n        window.requirejs.undef(componentName)\n        window.requirejs.config({\n          paths: {\n            [componentName]: `${url}#`,\n          },\n        })\n      }\n\n      const C = componentCreator({\n        name: componentModule ? `${componentName}.${componentModule}` : componentName,\n        storeDispatcher,\n        componentDispatcher,\n        Loader,\n        Error,\n        config: { ...rest, components },\n        routerProps: router,\n        onMounted: onMountedFn,\n      })\n      const Fc = (p: { [key: string]: any }) => (<C {...p} />)\n\n      render(<Fc {...props} />, target)\n      return () => unmountComponentAtNode(target as Element)\n    }\n\n    render() {\n      const {\n        history,\n        location,\n        match,\n        staticContext,\n\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        dispatch: componentDispatch,\n        MOUNTED_COMPONENTS: mountedComponents,\n        silent,\n        ...propsRest\n      } = this.props\n      const { componentReady, errorMessage, errorType } = this.state\n      const store: Entry['store'] = {}\n      const componentProps: Entry['store'] = {}\n      const ComponentNode = this.ComponentNode as RequiredComponent\n\n      if (errorType) {\n        return !silent\n          ? (\n            <Error\n              type={ERROR_TYPE[errorType]}\n              message={errorMessage}\n              reload={errorType === 'INVALID_COMPONENT' ? undefined : this.onReload}\n            />\n          )\n          : null\n      }\n\n      if (!componentReady) {\n        return !silent ? (<Loader />) : null\n      }\n\n      storeKeys.forEach((key) => {\n        if (key !== MOUNTED_COMPONENTS) {\n          store[key] = this.props[key]\n        }\n      })\n\n      Object.keys(propsRest).forEach((key) => {\n        if (store[key] !== propsRest[key]) {\n          componentProps[key] = propsRest[key]\n        }\n      })\n\n      const router = routerProps || {\n        history,\n        location,\n        match,\n        staticContext,\n      }\n      const $router = Object.keys(router).length ? router : undefined\n\n      return (\n        <ComponentNode\n          {...componentProps}\n          $config={rest}\n          $dispatch={this.dispatch}\n          $store={store}\n          $mounted={mountedComponents}\n          $router={$router as ComponentProps['$router']}\n          $render={routerProps ? undefined : this.$render}\n          $preload={routerProps ? undefined : preload}\n        />\n      )\n    }\n  }\n\n  const RwithRouter: unknown = routerProps ? R : withRouter(R)\n\n  // A spread argument must either have a tuple type or be passed to a rest parameter.ts(2556)\n  const [key0, ...keyn] = storeKeys\n  return connect(key0, ...keyn)(RwithRouter as Connector.connect)\n}\n\nexport default componentCreator\n","import React, { ComponentType } from 'react'\nimport { render, unmountComponentAtNode } from 'react-dom'\nimport {\n  RouteComponentProps,\n  HashRouter,\n  Switch,\n  BrowserRouter,\n  withRouter,\n} from 'react-router-dom'\nimport { Config } from '@variousjs/various'\nimport { createStore, connect, dispatch } from './store'\nimport Routes from './routes'\nimport { Loader, Error, Container } from './built-in'\nimport createComponent from './create-component'\nimport getDispatch from './dispatch'\nimport preload from './preload'\nimport { MOUNTED_COMPONENTS, ERROR_TYPE, ROOT_CONTAINER } from '../config'\nimport {\n  RequireJsError,\n  RequireError,\n  Entry,\n  ErrorState,\n  ComponentProps,\n  ContainerProps,\n} from '../types'\n\nexport const Router = Routes\nexport {\n  Route,\n  Link,\n  generatePath,\n  Redirect,\n  Prompt,\n  NavLink,\n} from 'react-router-dom'\n\nexport default (config: Config & Entry, ctx: { onError: RequireJsError }) => {\n  const {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    dependencies, entry,\n    routerMode,\n    root,\n    components = {},\n    store = {},\n    actions = {},\n    Loader: LoaderNode = Loader,\n    Error: ErrorNode = Error,\n    Container: ContainerNode = Container,\n    ...rest\n  } = config\n  const RouterMode: typeof HashRouter = routerMode === 'browser' ? BrowserRouter : HashRouter\n  const storeKeys = Object.keys(store).concat([MOUNTED_COMPONENTS])\n  const componentDispatcher: { [name: string]: Entry['actions'] } = {}\n  const storeDispatcher = { ...actions }\n  const COMPONENTS: { [key: string]: ComponentType } = {}\n  const currentDispatch = getDispatch(dispatch, storeDispatcher, componentDispatcher)\n\n  createStore({\n    ...store,\n    [MOUNTED_COMPONENTS]: [],\n  })\n\n  const componentCreator = (\n    name: string,\n    routerProps?: ComponentProps['$router'] | {},\n    onMounted?: () => void,\n  ) => {\n    const C = createComponent({\n      name,\n      storeDispatcher,\n      componentDispatcher,\n      Loader: LoaderNode,\n      Error: ErrorNode,\n      config: { ...rest, components },\n      routerProps,\n      onMounted,\n    })\n\n    return (props: { [key: string]: any }) => (<C {...props} />)\n  }\n\n  const $component = (nameWidthSub: string) => {\n    const [name] = nameWidthSub.split('.')\n    if (!components[name]) {\n      return () => (\n        <ErrorNode type={ERROR_TYPE.NOT_DEFINED} />\n      )\n    }\n    if (COMPONENTS[name]) {\n      return COMPONENTS[name]\n    }\n    const component = componentCreator(nameWidthSub)\n    COMPONENTS[name] = component\n    return component\n  }\n\n  const $render: ContainerProps['$render'] = ({\n    name,\n    url,\n    target,\n    props,\n    module,\n    onMounted,\n  }) => {\n    if (url) {\n      window.requirejs.undef(name)\n      window.requirejs.config({\n        paths: {\n          [name]: `${url}#`,\n        },\n      })\n    }\n\n    const C = componentCreator(\n      module ? `${name}.${module}` : name,\n      {},\n      onMounted,\n    )\n    render(<C {...props} />, target)\n    return () => unmountComponentAtNode(target as Element)\n  }\n\n  class R extends React.Component<Entry['store'] & RouteComponentProps & {\n      dispatch: typeof dispatch,\n      [MOUNTED_COMPONENTS]: string[],\n    }, ErrorState> {\n      state = {\n        errorType: undefined,\n        errorMessage: '',\n      }\n\n      dispatch = currentDispatch.bind(this, 'store')\n\n      componentDidCatch(e: Error) {\n        this.setState({ errorType: 'CONTAINER_ERROR', errorMessage: e.message })\n      }\n\n      render() {\n        const { errorType, errorMessage } = this.state\n        const {\n          history,\n          location,\n          match,\n          staticContext,\n        } = this.props\n\n        if (errorType) {\n          return (\n            <ErrorNode\n              type={ERROR_TYPE[errorType]}\n              message={errorMessage}\n            />\n          )\n        }\n\n        const storeData: Entry['store'] = {}\n\n        storeKeys.forEach((key) => {\n          if (key !== MOUNTED_COMPONENTS) {\n            storeData[key] = this.props[key]\n          }\n        })\n\n        const mounted = this.props[MOUNTED_COMPONENTS]\n\n        return (\n          <ContainerNode\n            $component={$component}\n            $render={$render}\n            $mounted={mounted}\n            $config={rest}\n            $dispatch={this.dispatch}\n            $store={storeData}\n            $preload={preload}\n            $router={{\n              history,\n              location,\n              match,\n              staticContext,\n            }}\n          />\n        )\n      }\n  }\n\n  // A spread argument must either have a tuple type or be passed to a rest parameter.ts(2556)\n  const [key0, ...keyn] = storeKeys\n  const RwithRouter = withRouter(R)\n  const X = connect(key0, ...keyn)(RwithRouter as any)\n\n  try {\n    render((\n      <RouterMode>\n        <Switch>\n          <X />\n        </Switch>\n      </RouterMode>\n    ), document.querySelector(root || ROOT_CONTAINER))\n  } catch (e) {\n    ctx.onError(e as RequireError)\n  }\n}\n"],"names":["module","exports","__WEBPACK_EXTERNAL_MODULE__552__","__WEBPACK_EXTERNAL_MODULE__161__","__WEBPACK_EXTERNAL_MODULE__305__","__WEBPACK_EXTERNAL_MODULE__439__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","ERROR_TYPE","Nycticorax","createStore","getStore","connect","dispatch","Loader","Error","type","message","reload","onClick","Container","MOUNTED_COMPONENTS","IGNORE_STATIC_METHODS","R","errorType","errorMessage","_props","location","pathname","this","props","window","e","setState","ROUTER_ERROR","state","children","React","withRouter","storeDispatcher","componentDispatcher","dispatcher","name","func","currentDispatch","actions","names","Promise","resolve","requirejs","componentCreator","config","nameWidthModule","routerProps","onMounted","storeKeys","keys","getDispatch","components","rest","split","componentReady","bind","mountedComponents","filter","item","s","contexts","_","registry","urlFetched","forEach","error","map","url","C","isUnMounted","componentNode","default","includes","push","getOwnPropertyNames","method","ComponentNode","undef","paths","retryCount","setTimeout","mountComponent","requireModule","requireModules","componentName","target","componentModule","onMountedFn","router","history","match","staticContext","Fc","p","render","unmountComponentAtNode","unMountComponent","silent","propsRest","store","componentProps","onReload","$router","length","$config","$dispatch","$store","$mounted","$render","$preload","preload","RwithRouter","key0","keyn","Router","Routes","ctx","dependencies","entry","routerMode","root","LoaderNode","ErrorNode","ContainerNode","RouterMode","BrowserRouter","HashRouter","concat","COMPONENTS","createComponent","$component","nameWidthSub","NOT_DEFINED","component","storeData","mounted","X","Switch","document","querySelector","onError"],"sourceRoot":""}