{"version":3,"file":"index.dev.js","mappings":"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","sources":["webpack://@variousjs/various/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@variousjs/various/./node_modules/nycticorax/dist/index.js","webpack://@variousjs/various/./src/core/config.ts","webpack://@variousjs/various/./src/core/connector.ts","webpack://@variousjs/various/./src/core/create-component.tsx","webpack://@variousjs/various/./src/core/create-module.ts","webpack://@variousjs/various/./src/core/default-component.tsx","webpack://@variousjs/various/./src/core/dispatch.ts","webpack://@variousjs/various/./src/core/error-boundary.tsx","webpack://@variousjs/various/./src/core/helper.ts","webpack://@variousjs/various/./src/core/i18n.ts","webpack://@variousjs/various/./src/core/logger.ts","webpack://@variousjs/various/./src/core/message.ts","webpack://@variousjs/various/./src/core/react-component.tsx","webpack://@variousjs/various/./src/core/render-component.tsx","webpack://@variousjs/various/./src/core/store.ts","webpack://@variousjs/various/./src/core/vue-component.tsx","webpack://@variousjs/various/external amd \"react\"","webpack://@variousjs/various/external amd \"react-dom/client\"","webpack://@variousjs/various/webpack/bootstrap","webpack://@variousjs/various/webpack/runtime/compat get default export","webpack://@variousjs/various/webpack/runtime/define property getters","webpack://@variousjs/various/webpack/runtime/hasOwnProperty shorthand","webpack://@variousjs/various/webpack/runtime/make namespace object","webpack://@variousjs/various/./src/core/index.tsx"],"sourcesContent":["function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e(require(\"react\")):\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.Nycticorax=e(require(\"react\")):t.Nycticorax=e(t.React)}(self,(t=>(()=>{\"use strict\";var e={294:(t,e,r)=>{r.d(e,{default:()=>c});var s=r(942),o=r(63),n=r.n(o);function i(t,e=new WeakMap){if(\"object\"!=typeof t||null===t)return t;if(e.has(t))return e.get(t);const r=Array.isArray(t)?[]:{};e.set(t,r);const s=Reflect.ownKeys(t);for(const o of s)r[o]=i(t[o],e);return r}class c{constructor(){var t;(0,s.Z)(this,\"state\",void 0),(0,s.Z)(this,\"listeners\",void 0),(0,s.Z)(this,\"emits\",void 0),(0,s.Z)(this,\"timer\",void 0),(0,s.Z)(this,\"onStateChange\",void 0),(0,s.Z)(this,\"getStore\",void 0),(0,s.Z)(this,\"createStore\",(t=>{this.listeners=Reflect.ownKeys(t).reduce(((e,r)=>{const s=r;return this.state[s]=t[s],{...e,[r]:[]}}),{})})),(0,s.Z)(this,\"subscribe\",(t=>{const e={};return Reflect.ownKeys(t).forEach((r=>{const s=r;this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push(t[s]),e[s]=t[s]})),()=>{Reflect.ownKeys(e).forEach((t=>{const r=t;this.listeners[r]=this.listeners[r].filter((t=>t!==e[r]))}))}})),(0,s.Z)(this,\"emit\",((t,e)=>{this.emits={...this.emits,...t},e?this.trigger():(clearTimeout(this.timer),this.timer=setTimeout(this.trigger))})),(0,s.Z)(this,\"dispatch\",((t,...e)=>t({getStore:this.getStore,emit:t=>this.emit(t,!0)},...e))),(0,s.Z)(this,\"trigger\",(()=>{const t=this.emits,e=[],r=Reflect.ownKeys(t);for(let s=0;s<r.length;s+=1){const o=r[s];if(n()(this.state[o],t[o]))continue;const c=t[o],u=this.state[o];this.state[o]=i(t[o]),e.push({key:o,newValue:c,oldValue:u})}const s={};e.forEach((t=>{s[t.key]=[t.newValue,t.oldValue],this.listeners[t.key]&&this.listeners[t.key].forEach((e=>e(t.newValue,t.oldValue)))})),e.length&&this.onStateChange(s),this.emits={},this.timer=void 0})),this.state={},this.listeners={},this.emits={},this.timer=void 0,this.onStateChange=()=>null,this.getStore=(t=this.state,function(e){return e?i(t[e]):t})}set onChange(t){this.onStateChange=t}}},63:t=>{t.exports=function t(e,r){if(e===r)return!0;if(e&&r&&\"object\"==typeof e&&\"object\"==typeof r){if(e.constructor!==r.constructor)return!1;var s,o,n;if(Array.isArray(e)){if((s=e.length)!=r.length)return!1;for(o=s;0!=o--;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((s=(n=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(o=s;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,n[o]))return!1;for(o=s;0!=o--;){var i=n[o];if(!t(e[i],r[i]))return!1}return!0}return e!=e&&r!=r}},250:e=>{e.exports=t},942:(t,e,r)=>{function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,{Z:()=>s})}},r={};function s(t){var o=r[t];if(void 0!==o)return o.exports;var n=r[t]={exports:{}};return e[t](n,n.exports,s),n.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o={};return(()=>{s.d(o,{default:()=>u});var t=s(942),e=s(294),r=s(250),n=s.n(r);const i=[\"name\",\"prototype\",\"length\",\"propTypes\",\"defaultProps\",\"getDerivedStateFromProps\",\"contextTypes\",\"displayName\"];class c extends e.default{constructor(...e){super(...e),(0,t.Z)(this,\"connect\",function(e){const{getStore:s,subscribe:o}=e;return function(...e){return function(c){class u extends r.Component{constructor(r){super(r),(0,t.Z)(this,\"unsubscribe\",void 0),(0,t.Z)(this,\"state\",{props:s()}),this.unsubscribe=o(e.reduce(((t,e)=>({...t,[e]:()=>{this.setState({props:s()})}})),{}))}componentWillUnmount(){this.unsubscribe()}render(){const{props:t}=this.state,e={...t,...this.props};return n().createElement(c,e)}}return Object.getOwnPropertyNames(c).forEach((t=>{const e=t;i.includes(t)||(u[e]=c[e])})),u}}}(this)),(0,t.Z)(this,\"useStore\",function(t){const{getStore:e,subscribe:s}=t;return function(...t){const[o,n]=(0,r.useState)(e());return(0,r.useLayoutEffect)((()=>s(t.reduce(((t,r)=>({...t,[r]:()=>{n((t=>({...t,[r]:e()[r]})))}})),{})))),o}}(this))}}const u=c})(),o.default})()));\n//# sourceMappingURL=index.js.map","export const MOUNTED_COMPONENTS_KEY = Symbol('MOUNTED_COMPONENTS')\n\nexport const MESSAGE_KEY = Symbol('MESSAGE')\n\nexport const CONFIG_KEY = Symbol('CONFIG')\n\nexport const DEPENDENCIES_KEY = Symbol('DEPENDENCIES')\n\nexport const ROOT = '#root'\n\nexport const VUE_FUNCTION_OPTIONS = [\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'updated',\n  'beforeUnmount',\n  'unmounted',\n  'errorCaptured',\n  'renderTracked',\n  'renderTriggered',\n  'activated',\n  'deactivated',\n  'setup',\n  'data',\n  'render',\n]\n\nexport const VUE_VERSION = 3\n","import {\n  LoaderNode,\n  ErrorNode,\n  App,\n  ModuleDefined,\n} from '@variousjs/various'\nimport { Loader, Error } from './default-component'\nimport {\n  PublicActions,\n  Store,\n  ConnectorI18nConfig,\n  Actions,\n} from '../types'\nimport { getNameWithModule } from './helper'\n\nclass Connector {\n  private loaderComponent: LoaderNode<Store>\n\n  private errorComponent: ErrorNode<Store>\n\n  private storeActions: Actions<Store>\n\n  private componentActions: Record<string, PublicActions>\n\n  private i18nConfigs: Record<string, ConnectorI18nConfig | undefined>\n\n  private globalI18nConfig: ConnectorI18nConfig | undefined\n\n  private middlewares: App['middlewares']\n\n  constructor() {\n    this.loaderComponent = Loader\n    this.errorComponent = Error\n    this.storeActions = {}\n    this.componentActions = {}\n    this.i18nConfigs = {}\n    this.middlewares = {}\n  }\n\n  setMiddlewares(m: App['middlewares']) {\n    this.middlewares = m\n  }\n\n  getMiddlewares() {\n    return this.middlewares\n  }\n\n  setI18nConfig(moduleDefined: ModuleDefined, config: ConnectorI18nConfig) {\n    const name = getNameWithModule(moduleDefined)\n    this.i18nConfigs[name] = { ...this.i18nConfigs[name], ...config }\n  }\n\n  getI18nConfig(moduleDefined: ModuleDefined) {\n    const name = getNameWithModule(moduleDefined)\n    return this.i18nConfigs[name]\n  }\n\n  setGlobalI18nConfig(config: ConnectorI18nConfig) {\n    this.globalI18nConfig = { ...this.globalI18nConfig, ...config }\n  }\n\n  getGlobalI18nConfig() {\n    return this.globalI18nConfig\n  }\n\n  setComponentActions(moduleDefined: ModuleDefined, actions: PublicActions) {\n    const name = getNameWithModule(moduleDefined)\n    this.componentActions[name] = actions\n  }\n\n  deleteComponentActions(moduleDefined: ModuleDefined) {\n    const name = getNameWithModule(moduleDefined)\n    delete this.componentActions[name]\n  }\n\n  getComponentActions(moduleDefined: ModuleDefined) {\n    const name = getNameWithModule(moduleDefined)\n    return this.componentActions[name]\n  }\n\n  setStoreActions(actions: Actions<Store>) {\n    this.storeActions = actions\n  }\n\n  getStoreActions() {\n    return this.storeActions\n  }\n\n  setLoaderComponent(loaderComponent: LoaderNode<Store>) {\n    this.loaderComponent = loaderComponent\n  }\n\n  getLoaderComponent() {\n    return this.loaderComponent\n  }\n\n  setErrorComponent(errorComponent: ErrorNode<Store>) {\n    this.errorComponent = errorComponent\n  }\n\n  getErrorComponent() {\n    return this.errorComponent\n  }\n}\n\nexport default new Connector()\n","import React from 'react'\nimport { createComponent as cc, ComponentDefaultProps } from '@variousjs/various'\nimport createReactComponent from './react-component'\nimport createVueComponent from './vue-component'\nimport ErrorBoundary from './error-boundary'\nimport { CreateComponentProps } from '../types'\n\nconst createComponent: typeof cc<any, any> = (config, storeKeys) => {\n  const {\n    name,\n    module,\n    url,\n    type = 'react',\n  } = config\n\n  const C = (type === 'vue3' ? createVueComponent : createReactComponent)({\n    name,\n    module,\n    url,\n    watchKeys: storeKeys as string[],\n  })\n\n  const component = (props: ComponentDefaultProps) => {\n    const { $silent, $ref, ...rest } = props || {}\n    const nextProps = {\n      $componentProps: rest, $silent, $ref,\n    } as ComponentDefaultProps & CreateComponentProps<any>\n    return (\n      <ErrorBoundary name={name} module={module}>\n        <C {...nextProps} />\n      </ErrorBoundary>\n    )\n  }\n\n  component.displayName = 'various-creator'\n  return component\n}\n\nexport default createComponent\n","import { createModule as cm, ObjectRecord } from '@variousjs/various'\nimport { RequireError } from '../types'\nimport { DEPENDENCIES_KEY } from './config'\nimport { getStore } from './store'\nimport connector from './connector'\nimport {\n  isModuleLoaded,\n  resetDependencyConfig,\n  VariousError,\n  onError,\n} from './helper'\n\nconst createModule: typeof cm = (config, logError = true) => {\n  const dependencies = getStore(DEPENDENCIES_KEY)\n  const middlewares = connector.getMiddlewares()\n  const { name, module, url } = config\n  const loadStart = +new Date()\n\n  const logOnError = (e: VariousError) => {\n    if (logError) {\n      onError(e)\n    }\n  }\n\n  if (url) {\n    resetDependencyConfig(name, url)\n  }\n\n  return new Promise<any>((resolve, reject) => {\n    if (!url && !dependencies[name]) {\n      const error = new VariousError({\n        name,\n        module,\n        type: 'NOT_DEFINED',\n        originalError: new Error(`module \"${name}\" not defined`),\n      })\n\n      logOnError(error)\n      reject(error)\n      return\n    }\n\n    window.requirejs([name], (C?: ObjectRecord) => {\n      const loadEnd = +new Date()\n\n      middlewares?.onLoad?.({\n        name,\n        module,\n        loadStart,\n        loadEnd,\n        beenLoaded: isModuleLoaded(name),\n      })\n\n      if (!C) {\n        const error = new VariousError({\n          name,\n          module,\n          type: 'INVALID_MODULE',\n          originalError: new Error(`module \"${name}\" invalid`),\n        })\n\n        resetDependencyConfig(name)\n        logOnError(error)\n        reject(error)\n        return\n      }\n\n      const defaultModule = 'default' in C ? C.default : C\n      const actualModule = !module ? defaultModule : C[module]\n\n      if (actualModule === undefined && module) {\n        const error = new VariousError({\n          name,\n          module,\n          type: 'SUBMODULE_NOT_DEFINED',\n          originalError: new Error(`submodule \"${module}\" not defined`),\n        })\n\n        resetDependencyConfig(name)\n        logOnError(error)\n        reject(error)\n        return\n      }\n\n      resolve(actualModule)\n    }, (e: RequireError) => {\n      const [requireModule] = e.requireModules\n\n      resetDependencyConfig(name, url)\n      resetDependencyConfig(requireModule)\n\n      let errorType: VariousError['type'] = 'LOADING_ERROR'\n\n      if (requireModule !== name) {\n        errorType = 'SUBMODULE_LOADING_ERROR'\n      }\n\n      if (!e.message.includes('https://requirejs.org/docs/errors.html')) {\n        errorType = requireModule === name ? 'SCRIPT_ERROR' : 'SUBMODULE_SCRIPT_ERROR'\n      }\n\n      const error = new VariousError({\n        name,\n        module: requireModule === name ? undefined : requireModule,\n        type: errorType,\n        originalError: e,\n      })\n\n      logOnError(error)\n      reject(error)\n    })\n  })\n}\n\nexport default createModule\n","import React, { ComponentType } from 'react'\nimport { ErrorNode, LoaderNode } from '@variousjs/various'\nimport { Store } from '../types'\n\nexport const Loader: LoaderNode<Store> = () => (\n  <div>Loading</div>\n)\n\nexport const Error: ErrorNode<Store> = ({ $error, $reload }) => (\n  <>\n    <div>{`[${$error.type}] ${$error.message}`}</div>\n    <button\n      type=\"button\"\n      onClick={$reload}\n    >\n      Reload\n    </button>\n  </>\n)\n\nexport const Container: ComponentType = () => (\n  <div>App Container is not defined</div>\n)\n","import { createDispatch as cd } from '@variousjs/various'\nimport connector from './connector'\nimport { dispatch } from './store'\nimport { onError, VariousError } from './helper'\nimport createLogger from './logger'\n\nconst createDispatch: typeof cd = (moduleDefined) => async function (params) {\n  const middlewares = connector.getMiddlewares()\n  const logger = createLogger(moduleDefined)\n\n  let {\n    name,\n    module,\n    action,\n    value,\n  } = params\n\n  if (middlewares?.onDispatch) {\n    const check = await middlewares.onDispatch({\n      target: { name, module },\n      action,\n      value,\n      trigger: moduleDefined,\n    })\n    if (check === false) {\n      logger.warn('blocked by middleware', 'DISPATCH')\n      return Promise.resolve()\n    }\n    if (check !== true) {\n      name = check.target.name\n      module = check.target.module\n      action = check.action\n      value = check.value\n    }\n  }\n\n  if (name === 'app') {\n    const storeActions = connector.getStoreActions()\n    const storeAction = storeActions[action]\n    if (!storeAction) {\n      const errorMessage = `action \"${action}\" is not present`\n      const error = new VariousError({\n        ...moduleDefined,\n        type: 'DISPATCH',\n        originalError: new Error(errorMessage),\n      })\n      onError(error)\n      throw error\n    }\n    return dispatch(storeAction, value, moduleDefined)\n  }\n\n  const componentActions = connector.getComponentActions({ name, module })\n\n  if (!componentActions) {\n    const errorMessage = 'component is not ready'\n    const error = new VariousError({\n      ...moduleDefined,\n      type: 'DISPATCH',\n      originalError: new Error(errorMessage),\n    })\n    onError(error)\n    throw error\n  }\n\n  const componentAction = componentActions[action]\n\n  if (!componentAction) {\n    const errorMessage = `action \"${action}\" is not present`\n    const error = new VariousError({\n      ...moduleDefined,\n      type: 'DISPATCH',\n      originalError: new Error(errorMessage),\n    })\n    onError(error)\n    throw error\n  }\n\n  return Promise.resolve(componentAction(value, moduleDefined))\n}\n\nexport default createDispatch\n","import React, { Component } from 'react'\nimport { VariousError as ve } from '@variousjs/various'\nimport {\n  onError,\n  VariousError,\n  resetDependencyConfig,\n  updateUnMountComponent,\n} from './helper'\nimport connector from './connector'\nimport { ErrorBoundaryProps, Store } from '../types'\nimport { getUserStore } from './store'\n\nclass ErrorBoundary extends Component<ErrorBoundaryProps> {\n  static displayName = 'various-error-boundary'\n\n  state = {\n    hasError: false,\n  }\n\n  private error?: ve\n\n  componentDidCatch(e: Error | VariousError) {\n    const { name, module } = this.props\n    const error = e instanceof VariousError\n      ? e\n      : new VariousError({\n        name,\n        module,\n        type: name === 'app' ? 'APP_ERROR' : 'SCRIPT_ERROR',\n        originalError: e,\n      })\n\n    this.setState({ hasError: true })\n    this.error = error\n    onError(error)\n    resetDependencyConfig(this.props.name)\n    updateUnMountComponent({ name, module })\n  }\n\n  reload = () => {\n    this.error = undefined\n    this.setState({ hasError: false })\n  }\n\n  render() {\n    const { name, module } = this.props\n    const ErrorNode = connector.getErrorComponent()\n    const store = getUserStore()\n\n    if (this.state.hasError) {\n      return (\n        <ErrorNode\n          $name={name}\n          $module={module}\n          $reload={this.reload}\n          $store={store as Store}\n          $error={this.error!}\n        />\n      )\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","import {\n  onComponentMounted as ocm,\n  isModuleLoaded as im,\n  preloadModules as pp,\n  defineDependencies as dd,\n  VariousError as ve,\n  ErrorType as et,\n  ModuleDefined,\n  OnMessage,\n  I18n,\n  VariousComponentType,\n} from '@variousjs/various'\nimport { getStore, subscribe, emit } from './store'\nimport createLogger from './logger'\nimport {\n  CONFIG_KEY,\n  MOUNTED_COMPONENTS_KEY,\n  DEPENDENCIES_KEY,\n  VUE_VERSION,\n  VUE_FUNCTION_OPTIONS,\n} from './config'\nimport { PublicActions, RequiredComponent } from '../types'\nimport connector from './connector'\nimport { createOnMessage } from './message'\nimport { createI18nConfig } from './i18n'\n\nconst getUrlHash = (url: string) => `${url}?${+new Date()}`\n\nconst hasModule = (modules: ModuleDefined[], module: ModuleDefined) => modules\n  .some((c) => c.name === module.name && c.module === module.module)\n\nexport const preloadModules: typeof pp = (name) => new Promise<void>((resolve, reject) => {\n  const names = typeof name === 'string' ? [name] : name\n  window.requirejs(names, resolve, reject)\n})\n\nexport const defineDependencies: typeof dd = (deps) => {\n  const dependencies = getStore(DEPENDENCIES_KEY)\n  const next = {} as Record<string, string>\n\n  Object.keys(deps).forEach((name) => {\n    next[name] = `${deps[name]}#${name}`\n    window.requirejs.undef(name)\n  })\n\n  window.requirejs.config({ paths: next })\n  emit({ [DEPENDENCIES_KEY]: { ...dependencies, ...next } }, true)\n}\n\nexport const isModuleLoaded: typeof im = (name) => window.requirejs.specified(name)\n  && !!window.requirejs.s.contexts._.defined[name]\n\nexport const getMountedComponents = () => getStore(MOUNTED_COMPONENTS_KEY)\n\nexport const onComponentMounted: typeof ocm = (module, callback) => {\n  const modules = Array.isArray(module) ? module : [module]\n\n  if (modules.every((m) => hasModule(getMountedComponents(), m))) {\n    callback()\n    return () => null\n  }\n\n  const unSubscribe = subscribe({\n    [MOUNTED_COMPONENTS_KEY](value) {\n      const mountedModules = value as ModuleDefined[]\n      if (modules.every((n) => hasModule(mountedModules, n))) {\n        unSubscribe()\n        callback()\n      }\n    },\n  })\n\n  return unSubscribe\n}\n\nexport const resetDependencyConfig = (name: string, url?: string) => {\n  const dependencies = getStore(DEPENDENCIES_KEY)\n\n  // ignore multiple custom module url\n  if (url && window.requirejs.defined(name)) {\n    return\n  }\n\n  let path = getUrlHash(dependencies[name])\n\n  // custom module url, but module loaded error\n  if (url) {\n    path = `${url}#${name}`\n\n    try {\n      const { registry } = window.requirejs.s.contexts._\n      if (registry?.[name].error) {\n        path = getUrlHash(url)\n      }\n    } catch (e) {\n      // ignore\n    }\n  }\n\n  window.requirejs.undef(name)\n  window.requirejs.config({\n    paths: { [name]: path },\n  })\n}\nexport const getNameWithModule = (moduleDefined: ModuleDefined) => {\n  const { name, module } = moduleDefined\n  return module ? `${name}.${module}` : name\n}\n\nexport function getConfig<C extends object = {}>() {\n  return getStore(CONFIG_KEY) as C\n}\n\nexport const onError = (e: VariousError) => {\n  const { name, module, type } = e\n  const logger = createLogger({ name, module })\n  logger.error(e, type)\n}\n\nexport class VariousError extends Error implements ve {\n  type: et\n\n  originalError: Error\n\n  module?: string\n\n  name: string\n\n  constructor(data: {\n    name: string,\n    module?: string,\n    type: et,\n    originalError: Error,\n  }) {\n    super(data.originalError.message)\n    this.type = data.type\n    this.originalError = data.originalError\n    this.module = data.module\n    this.name = data.name\n  }\n}\n\nexport function checkReactComponent(component: RequiredComponent, moduleDefined: ModuleDefined) {\n  return new Promise<void>((reslove, reject) => {\n    if (component.$$typeof || component.prototype?.isReactComponent || typeof component === 'function') {\n      reslove()\n      return\n    }\n\n    reject(new VariousError({\n      ...moduleDefined,\n      originalError: new Error('not a valid React component'),\n      type: 'INVALID_COMPONENT',\n    }))\n  })\n}\n\nexport function isPromiseLike<T>(value: T | PromiseLike<T>): value is PromiseLike<T> {\n  return value != null && typeof (value as any).then === 'function'\n}\n\nexport function checkVueComponent(component: RequiredComponent, moduleDefined: ModuleDefined) {\n  const versionRegex = new RegExp(`^${VUE_VERSION}\\\\.`)\n\n  return new Promise<void>((resolve, reject) => {\n    window.requirejs(['vue'], (Vue: { version: string }) => {\n      if (!versionRegex.test(Vue.version)) {\n        reject(new Error(`Vue ${VUE_VERSION}+ required, detected an incompatible version`))\n      }\n\n      if (typeof component?.render === 'function' || typeof component?.setup === 'function') {\n        resolve()\n        return\n      }\n\n      reject(new VariousError({\n        ...moduleDefined,\n        originalError: new Error('not a valid Vue component'),\n        type: 'INVALID_COMPONENT',\n      }))\n    })\n  })\n}\n\nexport function parseComponentActions(params: ModuleDefined & {\n  componentNode: RequiredComponent,\n  type?: VariousComponentType,\n  i18nUpdate: () => void,\n}) {\n  const {\n    componentNode,\n    name,\n    module,\n    type,\n    i18nUpdate,\n  } = params\n\n  const actions: PublicActions = {}\n  let onMessageAction: OnMessage | undefined\n  let i18nAction: I18n | undefined\n\n  Object\n    .getOwnPropertyNames(componentNode)\n    .forEach((method) => {\n      if (typeof componentNode[method] !== 'function') {\n        return\n      }\n      if (method === '$onMessage') {\n        onMessageAction = componentNode[method]\n        return\n      }\n      if (method === '$i18n') {\n        i18nAction = componentNode[method]\n        return\n      }\n      if (type === 'vue3' && VUE_FUNCTION_OPTIONS.includes(method)) {\n        return\n      }\n\n      actions[method] = componentNode[method]\n    })\n\n  if (i18nAction) {\n    createI18nConfig(i18nAction, { name, module }, i18nUpdate)\n  }\n\n  connector.setComponentActions({ name, module }, actions)\n\n  if (onMessageAction) {\n    return createOnMessage({ name, module }, onMessageAction)\n  }\n\n  return () => null\n}\n\nexport function updateMountedComponent(moduleDefined: ModuleDefined) {\n  const mountedComponents = getMountedComponents()\n\n  if (!hasModule(mountedComponents, moduleDefined)) {\n    mountedComponents.push(moduleDefined)\n  }\n\n  emit({ [MOUNTED_COMPONENTS_KEY]: mountedComponents }, true)\n}\n\nexport function updateUnMountComponent(moduleDefined: ModuleDefined) {\n  const { name, module } = moduleDefined\n  let mountedComponents = getMountedComponents()\n\n  mountedComponents = mountedComponents\n    .filter((item) => item.name !== name || item.module !== module)\n\n  emit({ [MOUNTED_COMPONENTS_KEY]: mountedComponents }, true)\n  connector.deleteComponentActions({ name, module })\n}\n","import {\n  Intl,\n  ModuleDefined,\n  I18n,\n  I18nConfig,\n} from '@variousjs/various'\nimport connector from './connector'\nimport { VariousError, onError, isPromiseLike } from './helper'\nimport { getStore, emit } from './store'\n\nexport function createI18nConfig(\n  method?: I18n,\n  moduleDefined?: ModuleDefined,\n  callback?: () => void,\n) {\n  if (!method) {\n    return\n  }\n\n  const i18nConfig = method()\n\n  if (!isPromiseLike(i18nConfig)) {\n    if (moduleDefined) {\n      connector.setI18nConfig(moduleDefined, i18nConfig)\n    } else {\n      connector.setGlobalI18nConfig(i18nConfig)\n    }\n    return\n  }\n\n  if (moduleDefined) {\n    connector.setI18nConfig(moduleDefined, {\n      loading: true,\n      localeKey: '',\n      resources: {},\n    })\n  } else {\n    connector.setGlobalI18nConfig({\n      loading: true,\n      localeKey: '',\n      resources: {},\n    })\n  }\n\n  i18nConfig\n    .then((res) => {\n      if (moduleDefined) {\n        connector.setI18nConfig(moduleDefined, { ...res, loading: false })\n        callback?.()\n        return\n      }\n\n      const locale = getStore(res.localeKey)\n\n      emit({ [res.localeKey]: undefined }, true)\n      emit({ [res.localeKey]: locale }, true)\n      connector.setGlobalI18nConfig({ ...res, loading: false })\n    })\n    .catch((e: Error) => {\n      onError(new VariousError({\n        name: moduleDefined?.name || 'app',\n        module: moduleDefined?.module,\n        type: 'I18N',\n        originalError: e,\n      }))\n    })\n}\n\nexport function createI18n(\n  moduleDefined: ModuleDefined,\n  updater: () => void,\n) {\n  const ctx: Intl = (key, params, defaultString) => {\n    const i18nConfig = connector.getI18nConfig(moduleDefined) || connector.getGlobalI18nConfig()\n\n    let defaultText = defaultString\n    if (defaultText === undefined) {\n      defaultText = typeof params === 'string' ? params : key\n    }\n\n    if (!i18nConfig) {\n      onError(new VariousError({\n        ...moduleDefined,\n        type: 'I18N',\n        originalError: new Error('config not exist'),\n      }))\n      return defaultText\n    }\n\n    if (i18nConfig.loading) {\n      return defaultText\n    }\n\n    const { localeKey, resources } = i18nConfig\n    const locale: string | undefined = getStore(localeKey)\n\n    if (localeKey === undefined || locale === undefined) {\n      onError(new VariousError({\n        ...moduleDefined,\n        type: 'I18N',\n        originalError: new Error('locale key not defined'),\n      }))\n      return defaultText\n    }\n\n    const resource = resources?.[locale]\n\n    if (!resource) {\n      onError(new VariousError({\n        ...moduleDefined,\n        type: 'I18N',\n        originalError: new Error(`locale resource \\`${locale}\\` not exist`),\n      }))\n      return defaultText\n    }\n\n    if (!resource[key]) {\n      onError(new VariousError({\n        ...moduleDefined,\n        type: 'I18N',\n        originalError: new Error(`locale key \\`${key}\\` not exist`),\n      }))\n      return defaultText\n    }\n\n    const text = resource[key]\n\n    if (!params || typeof params === 'string' || Object.prototype.toString.call(params) !== '[object Object]') {\n      return text\n    }\n\n    const args = Object.keys(params)\n\n    if (!args.length) {\n      return text\n    }\n\n    return args.reduce((next, arg) => {\n      const regex = new RegExp(`{\\\\s*${arg}\\\\s*}`, 'g')\n      return next.replace(regex, params[arg].toString())\n    }, text)\n  }\n\n  ctx.update = (config, type) => {\n    const i18nConfig = type === 'app'\n      ? connector.getGlobalI18nConfig()\n      : connector.getI18nConfig(moduleDefined)\n    const next = { ...i18nConfig, ...config } as I18nConfig\n\n    if (type === 'app') {\n      connector.setGlobalI18nConfig(next)\n    } else {\n      connector.setI18nConfig(moduleDefined, next)\n    }\n\n    updater()\n  }\n\n  return ctx\n}\n","import { createLogger as cl, LogEvent } from '@variousjs/various'\nimport connector from './connector'\nimport { getNameWithModule, VariousError } from './helper'\n\ntype LogArgs = Parameters<LogEvent>[0]\ntype LogLevel = LogArgs['level']\n\nconst logger = (args: LogArgs) => {\n  const middlewares = connector.getMiddlewares()\n  const canLog = middlewares?.onLog?.(args)\n\n  if (canLog === false) {\n    return\n  }\n\n  const colorMap: Record<LogLevel, string> = {\n    info: 'blue',\n    warn: 'orange',\n    error: 'red',\n  }\n  const color = colorMap[args.level]\n\n  const params = [\n    `%c ${getNameWithModule(args)} `,\n    `background:${color};border:1px solid ${color};padding:1px;border-radius:2px 0 0 2px;color: #fff;`,\n  ]\n\n  if (args.type) {\n    params[0] = `${params[0]}%c ${args.type} %c`\n    params.push(\n      `border:1px solid ${color};padding:1px;border-radius:0 2px 2px 0;color:${color};`,\n      'background:transparent',\n    )\n  }\n\n  if (args.level !== 'info') {\n    params[0] = ` ${params[0]}`\n  }\n\n  window.console[args.level](...params, args.message)\n}\n\nconst createLogger: typeof cl = (moduleDefined) => ({\n  info(message, type) {\n    logger({\n      ...moduleDefined, level: 'info', type, message,\n    })\n  },\n  warn(message, type) {\n    logger({\n      ...moduleDefined, level: 'warn', type, message,\n    })\n  },\n  error(message, type) {\n    const middlewares = connector.getMiddlewares()\n    const error = message instanceof VariousError\n      ? message\n      : new VariousError({\n        ...moduleDefined,\n        type: type || 'unknow',\n        originalError: message instanceof Error ? message : new Error(message),\n      })\n\n    middlewares?.onError?.(error)\n\n    logger({\n      ...moduleDefined, level: 'error', type, message,\n    })\n  },\n})\n\nexport default createLogger\n","import { ModuleDefined, OnMessage, createPostMessage as cpm } from '@variousjs/various'\nimport connector from './connector'\nimport createLogger from './logger'\nimport { emit, subscribe } from './store'\nimport { MESSAGE_KEY } from './config'\n\nexport const createPostMessage: typeof cpm = (moduleDefined) => async (event, value) => {\n  const middlewares = connector.getMiddlewares()\n  const logger = createLogger(moduleDefined)\n\n  let next = { trigger: moduleDefined, event, value }\n\n  if (middlewares?.onMessage) {\n    const check = await middlewares.onMessage(next)\n\n    if (check === false) {\n      logger.warn('blocked by middleware', 'POST_MESSAGE')\n      return\n    }\n\n    if (check !== true) {\n      next = { ...next, ...check }\n    }\n  }\n\n  emit({\n    [MESSAGE_KEY]: {\n      timestamp: +new Date(),\n      event: next.event,\n      trigger: moduleDefined,\n      value: next.value,\n    },\n  })\n}\n\nexport const createOnMessage = (moduleDefined: ModuleDefined, onMessage: OnMessage) => subscribe({\n  [MESSAGE_KEY](v) {\n    const { trigger, value, event } = v as Parameters<OnMessage>[0]\n    if (moduleDefined.name !== trigger.name || moduleDefined.module !== trigger.module) {\n      onMessage({ event, value, trigger })\n    }\n  },\n})\n","import React, { Component } from 'react'\nimport {\n  ComponentDefaultProps,\n  VariousError as ve,\n  ModuleDefined,\n} from '@variousjs/various'\nimport {\n  checkReactComponent,\n  getNameWithModule,\n  updateUnMountComponent,\n  updateMountedComponent,\n  parseComponentActions,\n  isModuleLoaded,\n} from './helper'\nimport { connect, getStore, getUserStore } from './store'\nimport connector from './connector'\nimport { createPostMessage } from './message'\nimport createDispatch from './dispatch'\nimport createLogger from './logger'\nimport { createI18n } from './i18n'\nimport createModule from './create-module'\nimport {\n  CreateComponentState,\n  CreateComponentProps,\n  RequiredComponent,\n  Store,\n} from '../types'\n\nfunction reactComponent<P extends object>(config: ModuleDefined & {\n  url?: string,\n  watchKeys?: string[],\n  onMounted?: () => void,\n}) {\n  const {\n    name,\n    module,\n    url,\n    watchKeys,\n    onMounted,\n  } = config\n  const storeKeys = (watchKeys || Object.keys(getStore()))\n\n  class R extends Component<\n    CreateComponentProps<P> & ComponentDefaultProps,\n    CreateComponentState\n  > {\n    static displayName = 'various-react-component'\n\n    state = {\n      componentReady: false,\n      isError: false,\n    }\n\n    private error?: ve | Error\n\n    private ComponentNode: RequiredComponent | null\n\n    private isUnMounted?: boolean\n\n    private unSubscribeMessage = () => null as unknown\n\n    componentDidMount() {\n      this.mountComponent()\n    }\n\n    componentWillUnmount() {\n      this.error = undefined\n      this.ComponentNode = null\n      this.isUnMounted = true\n      this.unSubscribeMessage()\n      updateUnMountComponent({ name, module })\n    }\n\n    mountComponent = async () => {\n      try {\n        const componentNode = await createModule<RequiredComponent>({ name, module, url }, false)\n\n        if (this.isUnMounted) {\n          return\n        }\n\n        await checkReactComponent(componentNode, { name, module })\n\n        componentNode.displayName = getNameWithModule({ name, module })\n\n        updateMountedComponent({ name, module })\n\n        this.unSubscribeMessage = parseComponentActions({\n          componentNode,\n          name,\n          module,\n          i18nUpdate: () => this.forceUpdate(),\n        })\n\n        this.ComponentNode = componentNode\n        this.setState({ componentReady: true })\n\n        onMounted?.()\n      } catch (e) {\n        if (this.isUnMounted) {\n          return\n        }\n\n        this.error = e as Error\n        this.setState({ componentReady: true, isError: true })\n      }\n    }\n\n    $postMessage = createPostMessage({ name, module })\n\n    $dispatch = createDispatch({ name, module })\n\n    $t = createI18n({ name, module }, () => this.forceUpdate())\n\n    $logger = createLogger({ name, module })\n\n    render() {\n      const LoaderNode = connector.getLoaderComponent()\n      const { $silent, $componentProps, $ref } = this.props\n      const { componentReady, isError } = this.state\n      const store = getUserStore()\n      const ComponentNode = this.ComponentNode as RequiredComponent\n\n      if (isError) {\n        throw this.error\n      }\n\n      if (!componentReady) {\n        if ($silent || isModuleLoaded(name)) {\n          return null\n        }\n\n        return (\n          <LoaderNode\n            $name={name}\n            $module={module}\n            $store={store as Store}\n          />\n        )\n      }\n\n      return (\n        <ComponentNode\n          {...$componentProps}\n          $dispatch={this.$dispatch}\n          $store={store}\n          $postMessage={this.$postMessage}\n          $t={this.$t}\n          $logger={this.$logger}\n          ref={$ref}\n        />\n      )\n    }\n  }\n\n  const Connected = connect(...storeKeys)(R)\n  Connected.displayName = 'various-connector'\n\n  return Connected\n}\n\nexport default reactComponent\n","import React from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { renderComponent as rc } from '@variousjs/various'\nimport createReactComponent from './react-component'\nimport createVueComponent from './vue-component'\nimport { onError, VariousError } from './helper'\n\nconst renderComponent: typeof rc = ({\n  name,\n  module,\n  url,\n  target,\n  props,\n  type = 'react',\n  renderNode,\n  onMounted,\n}) => {\n  const C = (type === 'vue3' ? createVueComponent : createReactComponent)({\n    name,\n    module,\n    url,\n    onMounted,\n  })\n\n  try {\n    const root = createRoot(target as Element)\n    const { $silent, $ref, ...rest } = props || {}\n    const nextProps: any = { $componentProps: rest, $silent, $ref }\n    const node = <C {...nextProps} />\n\n    root.render(renderNode ? renderNode(node) : node)\n\n    return () => new Promise<void>((resolve) => {\n      setTimeout(() => {\n        root.unmount()\n        resolve()\n      })\n    })\n  } catch (e) {\n    onError(new VariousError({\n      name,\n      module,\n      type: 'SCRIPT_ERROR',\n      originalError: e as Error,\n    }))\n    return () => Promise.resolve()\n  }\n}\n\nexport default renderComponent\n","import Nycticorax from 'nycticorax'\nimport { Store } from '../types'\n\nexport const {\n  createStore,\n  getStore,\n  connect,\n  emit,\n  subscribe,\n  dispatch,\n  useStore,\n} = new Nycticorax<Store>()\n\nexport function getUserStore<S extends object = {}>() {\n  const globalStore = getStore()\n  const keys = Object.keys(globalStore)\n  const store: Record<string, any> = {}\n\n  keys.forEach((key) => {\n    store[key] = globalStore[key]\n  })\n\n  return store as S\n}\n","import React, {\n  FC,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react'\nimport Vue from 'vue'\nimport {\n  ComponentDefaultProps,\n  ModuleDefined,\n  VariousError as ve,\n  ObjectRecord,\n} from '@variousjs/various'\nimport connector from './connector'\nimport createModule from './create-module'\nimport { getStore, useStore } from './store'\nimport {\n  getNameWithModule,\n  updateUnMountComponent,\n  updateMountedComponent,\n  checkVueComponent,\n  parseComponentActions,\n  isModuleLoaded,\n  VariousError,\n} from './helper'\nimport createDispatch from './dispatch'\nimport createLogger from './logger'\nimport { createPostMessage } from './message'\nimport { CreateComponentProps, RequiredComponent } from '../types'\nimport { createI18n } from './i18n'\n\nfunction vueComponent<P extends object>(config: ModuleDefined & {\n  url?: string,\n  watchKeys?: string[],\n  onMounted?: () => void,\n}) {\n  const {\n    name,\n    module,\n    url,\n    watchKeys,\n    onMounted,\n  } = config\n  const storeKeys = (watchKeys || Object.keys(getStore()))\n\n  const V: FC<CreateComponentProps<P> & ComponentDefaultProps> = (props) => {\n    const store = useStore(...storeKeys)\n\n    const vueRef = useRef<typeof Vue>()\n    const isVueMounted = useRef(false)\n    const errorRef = useRef<Error | ve>()\n    const isUnMountedRef = useRef(false)\n    const ComponentNodeRef = useRef<RequiredComponent>()\n\n    const containerDivRef = useRef<HTMLDivElement | null>(null)\n    const propsReactiveRef = useRef<{ value: ObjectRecord }>()\n    const storeReactiveRef = useRef<{ value: ObjectRecord }>()\n    const unMountVue = useRef<() => void>()\n    const unSubscribeMessageRef = useRef<() => void>()\n    const updateVueComponentRef = useRef<() => void>()\n\n    const [componentReady, setComponentReady] = useState(false)\n    const [isError, setIsError] = useState(false)\n\n    const LoaderNode = connector.getLoaderComponent()\n    const { $silent, $componentProps } = props\n\n    const mountVue = useCallback(() => {\n      const $logger = createLogger({ name, module })\n      const $dispatch = createDispatch({ name, module })\n      const $postMessage = createPostMessage({ name, module })\n      const $t = createI18n({ name, module }, () => {\n        updateVueComponentRef.current?.()\n      })\n\n      propsReactiveRef.current = vueRef.current!.ref<ObjectRecord>({ ...$componentProps })\n      storeReactiveRef.current = vueRef.current!.ref<ObjectRecord>({ ...store })\n\n      const vueApp = vueRef.current!.createApp({\n        setup() {\n          const renderKey = vueRef.current!.ref(0)\n          updateVueComponentRef.current = () => {\n            renderKey.value += 1\n          }\n          return {\n            key: renderKey,\n          }\n        },\n\n        errorCaptured(e) {\n          const error = e as Error\n          errorRef.current = error.message?.includes('https://react')\n            ? new VariousError({\n              originalError: new Error('not a valid Vue component'),\n              name,\n              module,\n              type: 'INVALID_COMPONENT',\n            })\n            : error\n          setIsError(true)\n        },\n\n        render() {\n          return vueRef.current!.h(ComponentNodeRef.current as any, {\n            ...propsReactiveRef.current!.value,\n            various: {\n              $dispatch,\n              $logger,\n              $postMessage,\n              $t,\n              $store: storeReactiveRef.current!.value,\n            },\n            // eslint-disable-next-line react/no-this-in-sfc\n            key: this.key,\n          })\n        },\n      })\n\n      vueApp.mount(containerDivRef.current!)\n      isVueMounted.current = true\n      unMountVue.current = () => vueApp.unmount()\n    }, [$componentProps, store])\n\n    const mountComponent = useCallback(async () => {\n      try {\n        const vue = await createModule<typeof Vue>({ name: 'vue' })\n        vueRef.current = vue\n\n        const componentNode = await createModule<RequiredComponent>({ name, module, url }, false)\n\n        if (isUnMountedRef.current) {\n          return\n        }\n\n        await checkVueComponent(componentNode, { name, module })\n\n        updateMountedComponent({ name, module })\n\n        unSubscribeMessageRef.current = parseComponentActions({\n          componentNode,\n          name,\n          module,\n          type: 'vue3',\n          i18nUpdate() {\n            updateVueComponentRef.current?.()\n          },\n        })\n\n        ComponentNodeRef.current = componentNode\n\n        setTimeout(mountVue)\n        setComponentReady(true)\n\n        onMounted?.()\n      } catch (e) {\n        if (isUnMountedRef.current) {\n          return\n        }\n\n        errorRef.current = e as Error\n        setComponentReady(true)\n        setIsError(true)\n      }\n    }, [mountVue])\n\n    useEffect(() => () => {\n      errorRef.current = undefined\n      ComponentNodeRef.current = undefined\n      isUnMountedRef.current = true\n      updateUnMountComponent({ name, module })\n      unMountVue.current?.()\n      unSubscribeMessageRef.current?.()\n      isVueMounted.current = false\n    }, [])\n\n    useEffect(() => {\n      if (isVueMounted.current) {\n        return\n      }\n      mountComponent()\n    }, [mountComponent])\n\n    useEffect(() => {\n      if (propsReactiveRef.current) {\n        propsReactiveRef.current.value = { ...$componentProps }\n      }\n    }, [$componentProps])\n\n    useEffect(() => {\n      if (storeReactiveRef.current) {\n        storeReactiveRef.current.value = { ...store }\n      }\n    }, [store])\n\n    if (isError) {\n      throw errorRef.current\n    }\n\n    return (\n      <>\n        {\n          !componentReady && !$silent && !isModuleLoaded(name)\n            ? (\n              <LoaderNode\n                $name={name}\n                $module={module}\n                $store={store}\n              />\n            )\n            : null\n        }\n        <div\n          className={`various-component-${getNameWithModule({ name, module })}`}\n          ref={containerDivRef}\n        />\n      </>\n    )\n  }\n\n  V.displayName = getNameWithModule({ name, module })\n\n  const VueComponent: FC<\n    CreateComponentProps<P> & ComponentDefaultProps\n  > = (props) => (<V {...props} />)\n\n  VueComponent.displayName = 'various-vue-component'\n\n  return VueComponent\n}\n\nexport default vueComponent\n","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom_client__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, { Component } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { App, Config } from '@variousjs/various'\nimport { createStore } from './store'\nimport {\n  MOUNTED_COMPONENTS_KEY,\n  DEPENDENCIES_KEY,\n  ROOT,\n  MESSAGE_KEY,\n  CONFIG_KEY,\n} from './config'\nimport connector from './connector'\nimport { createI18nConfig } from './i18n'\nimport { Container as ContainerNode } from './default-component'\nimport ErrorBoundary from './error-boundary'\nimport { Store } from '../types'\n\nexport { default as Nycticorax } from 'nycticorax'\n\nexport { getUserStore as getStore } from './store'\nexport { default as createDispatch } from './dispatch'\nexport { createPostMessage } from './message'\nexport { default as createLogger } from './logger'\n\nexport {\n  getConfig,\n  preloadModules,\n  isModuleLoaded,\n  getMountedComponents,\n  onComponentMounted,\n  defineDependencies,\n} from './helper'\n\nexport { default as createModule } from './create-module'\nexport { default as createComponent } from './create-component'\nexport { default as renderComponent } from './render-component'\n\n// eslint-disable-next-line no-undef\nexport const version = VERSION\n\nexport default (config: Config & App<Store>) => {\n  const {\n    dependencies,\n    root,\n    store = {},\n    actions = {},\n    Loader: LoaderComponent,\n    Error: ErrorComponent,\n    Container: ContainerComponent = ContainerNode,\n    middlewares,\n    i18n,\n    ...rest\n  } = config\n\n  if (middlewares) {\n    connector.setMiddlewares(middlewares)\n  }\n\n  connector.setStoreActions(actions)\n\n  if (LoaderComponent) {\n    connector.setLoaderComponent(LoaderComponent)\n  }\n  if (ErrorComponent) {\n    connector.setErrorComponent(ErrorComponent)\n  }\n\n  createStore({\n    ...store,\n    [MOUNTED_COMPONENTS_KEY]: [],\n    [CONFIG_KEY]: rest,\n    [DEPENDENCIES_KEY]: dependencies,\n    [MESSAGE_KEY]: null,\n  })\n\n  ContainerComponent.displayName = 'various-container'\n\n  class R extends Component<{}, { isError: boolean }> {\n    static displayName = 'various-app'\n\n    componentDidMount() {\n      createI18nConfig(i18n)\n    }\n\n    render() {\n      return (\n        <ErrorBoundary name=\"app\">\n          <ContainerComponent />\n        </ErrorBoundary>\n      )\n    }\n  }\n\n  createRoot(document.querySelector(root || ROOT) as Element).render(<R />)\n}\n"],"names":["MOUNTED_COMPONENTS_KEY","Symbol","MESSAGE_KEY","CONFIG_KEY","DEPENDENCIES_KEY","ROOT","VUE_FUNCTION_OPTIONS","VUE_VERSION","Loader","Error","getNameWithModule","Connector","constructor","loaderComponent","errorComponent","storeActions","componentActions","i18nConfigs","middlewares","setMiddlewares","m","getMiddlewares","setI18nConfig","moduleDefined","config","name","getI18nConfig","setGlobalI18nConfig","globalI18nConfig","getGlobalI18nConfig","setComponentActions","actions","deleteComponentActions","getComponentActions","setStoreActions","getStoreActions","setLoaderComponent","getLoaderComponent","setErrorComponent","getErrorComponent","React","createReactComponent","createVueComponent","ErrorBoundary","createComponent","storeKeys","module","url","type","C","watchKeys","component","props","$silent","$ref","rest","nextProps","$componentProps","createElement","displayName","getStore","connector","isModuleLoaded","resetDependencyConfig","VariousError","onError","createModule","logError","dependencies","loadStart","Date","logOnError","e","Promise","resolve","reject","error","originalError","window","requirejs","loadEnd","onLoad","beenLoaded","defaultModule","default","actualModule","undefined","requireModule","requireModules","errorType","message","includes","$error","$reload","Fragment","onClick","Container","dispatch","createLogger","createDispatch","params","logger","action","value","onDispatch","check","target","trigger","warn","storeAction","errorMessage","componentAction","Component","updateUnMountComponent","getUserStore","state","hasError","componentDidCatch","setState","reload","render","ErrorNode","store","$name","$module","$store","children","subscribe","emit","createOnMessage","createI18nConfig","getUrlHash","hasModule","modules","some","c","preloadModules","names","defineDependencies","deps","next","Object","keys","forEach","undef","paths","specified","s","contexts","_","defined","getMountedComponents","onComponentMounted","callback","Array","isArray","every","unSubscribe","mountedModules","n","path","registry","getConfig","data","checkReactComponent","reslove","$$typeof","prototype","isReactComponent","isPromiseLike","then","checkVueComponent","versionRegex","RegExp","Vue","test","version","setup","parseComponentActions","componentNode","i18nUpdate","onMessageAction","i18nAction","getOwnPropertyNames","method","updateMountedComponent","mountedComponents","push","filter","item","i18nConfig","loading","localeKey","resources","res","locale","catch","createI18n","updater","ctx","key","defaultString","defaultText","resource","text","toString","call","args","length","reduce","arg","regex","replace","update","canLog","onLog","colorMap","info","color","level","console","createPostMessage","event","onMessage","timestamp","v","connect","reactComponent","onMounted","R","componentReady","isError","unSubscribeMessage","componentDidMount","mountComponent","componentWillUnmount","ComponentNode","isUnMounted","forceUpdate","$postMessage","$dispatch","$t","$logger","LoaderNode","_extends","ref","Connected","createRoot","renderComponent","renderNode","root","node","setTimeout","unmount","Nycticorax","createStore","useStore","globalStore","useCallback","useEffect","useRef","useState","vueComponent","V","vueRef","isVueMounted","errorRef","isUnMountedRef","ComponentNodeRef","containerDivRef","propsReactiveRef","storeReactiveRef","unMountVue","unSubscribeMessageRef","updateVueComponentRef","setComponentReady","setIsError","mountVue","current","vueApp","createApp","renderKey","errorCaptured","h","various","mount","vue","className","VueComponent","ContainerNode","VERSION","LoaderComponent","ErrorComponent","ContainerComponent","i18n","document","querySelector"],"sourceRoot":""}