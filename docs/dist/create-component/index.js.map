{"version":3,"file":"create-component/index.js","mappings":"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","sources":["webpack://@variousjs/various/external amd \"@variousjs/various\"","webpack://@variousjs/various/external amd \"react\"","webpack://@variousjs/various/webpack/bootstrap","webpack://@variousjs/various/webpack/runtime/compat get default export","webpack://@variousjs/various/webpack/runtime/define property getters","webpack://@variousjs/various/webpack/runtime/hasOwnProperty shorthand","webpack://@variousjs/various/webpack/runtime/make namespace object","webpack://@variousjs/various/./test/components/create-component/index.tsx"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__variousjs_various__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, {\n  Component,\n  forwardRef,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react'\nimport { ComponentProps, createComponent } from '@variousjs/various'\nimport { Store } from '../../types'\n\nconst Ma = createComponent({ name: 'create', module: 'A' })\nconst Mb = createComponent<Store>({ name: 'create', module: 'B' }, ['name'])\nconst Mc = createComponent<Store, { name: string }>({ name: 'create-vue-c', url: './dist/create-component/c.js', type: 'vue3' }, ['name'])\nconst Md = createComponent({ name: 'create', module: 'A', type: 'vue3' })\nconst Me = createComponent({ name: 'create-react-vue', url: './dist/create-component/c.js' })\nconst Mf = createComponent({ name: 'create', module: 'C' })\nconst Mg = createComponent({ name: 'create', module: 'B', type: 'vue3' })\nconst Mh = createComponent({ name: 'create', module: 'D' })\nconst Mi = createComponent({ name: 'create-vue-e', url: './dist/create-component/e.js', type: 'vue3' })\nconst Mj = createComponent({ name: 'create', module: 'Ref' })\n\nexport default (props: ComponentProps) => {\n  const { name } = props.$self\n  const maRef = useRef<any>(null)\n  const [num, setNum] = useState(0)\n  const RuntimeCreate = useMemo(() => createComponent({ name, module: 'E' }), [name])\n  const ref = useRef<any>(null)\n\n  return (\n    <>\n      <h3>Create Component</h3>\n      <div className=\"value\">\n        <Ma $ref={maRef} />\n        <button onClick={() => maRef.current?.set('some text')}>set text</button>\n      </div>\n\n      <h3>Runtime Create</h3>\n      <div className=\"value\">\n        <RuntimeCreate />\n        <p>for test runtime createComponent rerender</p>\n        <input />\n        <button onClick={() => setNum((n) => n + 1)}>add ({num})</button>\n      </div>\n\n      <h3>Class Component Ref</h3>\n      <div className=\"value\">\n        <Mj $ref={ref} />\n        <button onClick={() => ref.current?.add?.()}>input add</button>\n      </div>\n\n      <h3>Watch Store</h3>\n      <div className=\"value\">\n        <Mb />\n        <button onClick={() => props.$dispatch({ name: 'app', action: 'setName' })}>dispatch</button>\n      </div>\n\n      <h3>Vue & URL</h3>\n      <div className=\"value\">\n        <Mc name={props.$store.name} />\n      </div>\n\n      <h3>Vue Component type Error</h3>\n      <div className=\"value\">\n        <Md />\n        <Mg />\n      </div>\n\n      <h3>React Component type Error</h3>\n      <div className=\"value\">\n        <Me />\n        <Mf />\n      </div>\n\n      <h3>React script error</h3>\n      <Mh />\n\n      <h3>Vue script error</h3>\n      <Mi />\n    </>\n  )\n}\n\nexport const A = forwardRef((_, ref) => {\n  const [text, setText] = useState('')\n\n  useImperativeHandle(ref, () => ({\n    set: (t: string) => {\n      setText(t)\n    },\n  }))\n\n  return (\n    <p>text: {text}</p>\n  )\n})\n\nexport class B extends Component<ComponentProps<Store>> {\n  render() {\n    return (\n      <p>name: {this.props.$store.name}</p>\n    )\n  }\n}\n\nexport const C = 'not a component'\n\nexport const D = () => (\n  // @ts-ignore cause script error\n  <div>{A.bind.c}</div>\n)\n\nexport const E = (props: ComponentProps<Store>) => (\n  <p>{props.$store.name}</p>\n)\n\nexport class Ref extends Component<unknown, { value: number }> {\n  state = {\n    value: 0,\n  }\n\n  add = () => {\n    this.setState((prevState) => ({ value: prevState.value + 1 }))\n  }\n\n  render() {\n    return (\n      <input value={this.state.value} />\n    )\n  }\n}\n"],"names":["React","Component","forwardRef","useImperativeHandle","useMemo","useRef","useState","createComponent","Ma","name","module","Mb","Mc","url","type","Md","Me","Mf","Mg","Mh","Mi","Mj","props","$self","maRef","num","setNum","RuntimeCreate","ref","createElement","Fragment","className","$ref","onClick","current","set","n","add","$dispatch","action","$store","A","_","text","setText","t","B","render","C","D","bind","c","E","Ref","state","value","setState","prevState"],"sourceRoot":""}